<!DOCTYPE html>












  


<html class="theme-next pisces use-motion" lang="zh-CN">
<head><meta name="generator" content="Hexo 3.8.0">
  <meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
























<link rel="stylesheet" href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2">

<link rel="stylesheet" href="/css/main.css?v=7.1.1">


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=7.1.1">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=7.1.1">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=7.1.1">


  <link rel="mask-icon" href="/images/logo.svg?v=7.1.1" color="#222">







<script id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Pisces',
    version: '7.1.1',
    sidebar: {"position":"right","display":"post","offset":12,"onmobile":false,"dimmer":false},
    back2top: true,
    back2top_sidebar: true,
    fancybox: false,
    fastclick: false,
    lazyload: false,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>


  




  <meta property="og:type" content="website">
<meta property="og:title" content="KE_YI_">
<meta property="og:url" content="http://yoursite.com/page/4/index.html">
<meta property="og:site_name" content="KE_YI_">
<meta property="og:locale" content="zh-CN">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="KE_YI_">





  
  
  <link rel="canonical" href="http://yoursite.com/page/4/">



<script id="page.configurations">
  CONFIG.page = {
    sidebar: "",
  };
</script>

  <title>KE_YI_</title>
  












  <noscript>
  <style>
  .use-motion .motion-element,
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-title { opacity: initial; }

  .use-motion .logo,
  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-CN">

  
  
    
  

  <div class="container sidebar-position-right 
  page-home">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta">
    

    <div class="custom-logo-site-title">
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">KE_YI_</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
    
    
  </div>

  <div class="site-nav-toggle">
    <button aria-label="切换导航栏">
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>



<nav class="site-nav">
  
    <ul id="menu" class="menu">
      
        
        
        
          
          <li class="menu-item menu-item-home">

    
    
    
      
    

    

    <a href="/" rel="section"><i class="menu-item-icon fa fa-fw fa-home"></i> <br>首页</a>

  </li>
        
        
        
          
          <li class="menu-item menu-item-tags">

    
    
    
      
    

    

    <a href="/tags/" rel="section"><i class="menu-item-icon fa fa-fw fa-tags"></i> <br>标签</a>

  </li>
        
        
        
          
          <li class="menu-item menu-item-archives">

    
    
    
      
    

    

    <a href="/archives/" rel="section"><i class="menu-item-icon fa fa-fw fa-archive"></i> <br>归档</a>

  </li>
        
        
        
          
          <li class="menu-item menu-item-commonweal">

    
    
    
      
    

    

    <a href="/404.html" rel="section"><i class="menu-item-icon fa fa-fw fa-question-circle"></i> <br>公益 404</a>

  </li>

      
      
        <li class="menu-item menu-item-search">
          
            <a href="javascript:;" class="popup-trigger">
          
            
              <i class="menu-item-icon fa fa-search fa-fw"></i> <br>搜索</a>
        </li>
      
    </ul>
  

  

  
    <div class="site-search">
      
  <div class="popup search-popup local-search-popup">
  <div class="local-search-header clearfix">
    <span class="search-icon">
      <i class="fa fa-search"></i>
    </span>
    <span class="popup-btn-close">
      <i class="fa fa-times-circle"></i>
    </span>
    <div class="local-search-input-wrapper">
      <input autocomplete="off" placeholder="搜索..." spellcheck="false" type="text" id="local-search-input">
    </div>
  </div>
  <div id="local-search-result"></div>
</div>



    </div>
  
</nav>



  



</div>
    </header>

    


    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          
            

          
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/05/16/83187444/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="ke_yi_">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/ke_yi_head.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="KE_YI_">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                
                <a href="/2019/05/16/83187444/" class="post-title-link" itemprop="url">牛客网-21天刷题计划-第2节 进阶-对称的二叉树</a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              

              
                
              

              <time title="创建时间：2019-05-16 14:30:08 / 修改时间：13:54:18" itemprop="dateCreated datePublished" datetime="2019-05-16T14:30:08+08:00">2019-05-16</time>
            

            
              

              
            
          </span>

          

          
            
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <div class="htmledit_views" id="content_views"><br>            <p>使用非递归的二叉树遍历实现。</p><br><br><pre class="has"><br><code>#include&lt;iostream&gt;<br>using namespace std;<br>const int maxn=10000;/<em><br>struct TreeNode {<br>    int val;<br>    struct TreeNode </em>left;<br>    struct TreeNode <em>right;<br>    TreeNode(int x) :<br>            val(x), left(NULL), right(NULL) {<br>    }<br>};
</em>/<br>class Solution {<br>public:<br>    bool isSymmetrical(TreeNode<em> pRoot)<br>    {<br>        //头节点为空<br>        if(pRoot==NULL)return true;<br>        //定义变量<br>        int top=-1;<br>        TreeNode</em>pl[maxn],<em>pr[maxn],</em>p_l,*p_r;<br>        //初始化栈<br>        top++;pl[top]=pr[top]=pRoot;<br>        //左右序遍历<br>        while(top!=-1)<br>        {<br>            //头节点出栈<br>            p_l=pl[top];p_r=pr[top];top–;<br>            //判断是否对称<br>            if(p_l-&gt;val!=p_r-&gt;val)return false;<br>            bool bpll=p_l-&gt;left==NULL,bplr=p_l-&gt;right==NULL;<br>            bool bprl=p_r-&gt;left==NULL,bprr=p_r-&gt;right==NULL;<br>            if((bpll^bprr)||(bplr^bprl))break;<br>            //将子节点入栈<br>            if(p_l-&gt;left!=NULL)<br>            {<br>                top++;<br>                pl[top]=p_l-&gt;left;<br>                pr[top]=p_r-&gt;right;<br>            }<br>            if(p_l-&gt;right!=NULL)<br>            {<br>                top++;<br>                pl[top]=p_l-&gt;right;<br>                pr[top]=p_r-&gt;left;<br>            }<br>        }<br>        return top==-1;<br>    }<br><br>};<br></code></pre><br><br><p> 经过数十次的提交最后终于过了<br><br>第一次找出没有考虑这个if(pRoot==NULL)return true;<br><br>提交多次，会想以前写过的遍历算法，递归和非递归都是一样的思路，没有什么漏洞<br><br>怀疑栈定义的问题，将maxn改为1000没有用，又改成1e6还是没有用<br><br>看了一眼老师和其它同学的提交记录都是使用递归的方法，开始就是怀疑栈溢出，但是使用了数组栈还是溢出应该不可能<br><br>整理了一下思路，有看是整理了一下代码<br><br>第二次找出判断出错<br><br>            bool bpll=p_l-&gt;left==NULL,bplr=p_l-&gt;right==NULL;<br><br>            bool bprl=p_r-&gt;left==NULL,bprr=p_r-&gt;right==NULL;<br><br>            if((bpll^bprr)||(bplr^bprl))break;<br><br>还是不行，继续往下找，发现入栈时，判断是这样写的if(p_l!=NULL)and if(p_l!=NULL)<br><br>改了过来，过了10%<br><br>开始肯定了自己的逻辑，找了一下代码，没错<br><br>第三次找出题意的对称不仅仅是形状上的对称，数值上也要对称相等，加上了if(p_l-&gt;val!=p_r-&gt;val)return false;<br><br>然后就过了。</p><br><br><p>思路：形状上的对称只要，同时先序遍历后序遍历，如果同时存在相同的子节点就对称，数值就在判断子节点的时候，判断一下数值就行。</p>          </div>

          
        
      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/05/16/83184710/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="ke_yi_">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/ke_yi_head.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="KE_YI_">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                
                <a href="/2019/05/16/83184710/" class="post-title-link" itemprop="url">0型文法、1型文法、2型文法、3型文法对照</a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              

              
                
              

              <time title="创建时间：2019-05-16 14:30:08 / 修改时间：13:54:19" itemprop="dateCreated datePublished" datetime="2019-05-16T14:30:08+08:00">2019-05-16</time>
            

            
              

              
            
          </span>

          

          
            
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <div class="htmledit_views" id="content_views"><br>            <p>最近刚刚学编译原理，把对那几种文法罗列一下！</p><br><br><p> </p><br><br><p>0型文法<img alt="\alpha \rightarrow \beta" class="mathcode" src="https://private.codecogs.com/gif.latex?%5Calpha%20%5Crightarrow%20%5Cbeta">其中<img alt="\alpha \in (V_{N}\cup V_{T})^{+}" class="mathcode" src="https://private.codecogs.com/gif.latex?%5Calpha%20%5Cin%20%28V_%7BN%7D%5Ccup%20V_%7BT%7D%29%5E%7B&amp;plus;%7D">,<img alt="\alpha" class="mathcode" src="https://private.codecogs.com/gif.latex?%5Calpha">至少含有一个非终结符，并且<img alt="\beta \in (V_{N}\cup V_{T})^{*}" class="mathcode" src="https://private.codecogs.com/gif.latex?%5Cbeta%20%5Cin%20%28V_%7BN%7D%5Ccup%20V_%7BT%7D%29%5E%7B*%7D">，<img alt="V_{N}\cup V_{T}" class="mathcode" src="https://private.codecogs.com/gif.latex?V_%7BN%7D%5Ccup%20V_%7BT%7D">表示终结符和非终结符的并集。<br><br>1型文法：又称为上下文有关文法，</p><br><br><p>（1）：式子左边可以有多个字符，但必须有一个非终结符<br><br>（2）：式子右边可以有多个字符，可以是终结符，也可以是非终结符，但必须是有限个字符<br><br>（3）：左边长度必须小于右边（<img alt="\alpha \rightarrow \varepsilon" class="mathcode" src="https://private.codecogs.com/gif.latex?%5Calpha%20%5Crightarrow%20%5Cvarepsilon">例外）<br><br>2型文法：又称为上下文无关文法，<br><br>（1）：式子左边只能有一个字符，而且必须是非终结符<br><br>（2）：式子右边可以有多个字符，可以是终结符，也可以是非终结符，8但必须是有限个字符<br><br>3型文法：又称为正规文法（正规文法又包括左线性文法和右线性文法）<br><img alt="A\rightarrow a" class="mathcode" src="https://private.codecogs.com/gif.latex?A%5Crightarrow%20a">或<img alt="A\rightarrow Ba" class="mathcode" src="https://private.codecogs.com/gif.latex?A%5Crightarrow%20Ba">或<img alt="A\rightarrow aB" class="mathcode" src="https://private.codecogs.com/gif.latex?A%5Crightarrow%20aB">（大写字母表示非终结符，小写字母表示终结符）</p><br><br><p> </p>          </div>

          
        
      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/05/16/83064233/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="ke_yi_">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/ke_yi_head.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="KE_YI_">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                
                <a href="/2019/05/16/83064233/" class="post-title-link" itemprop="url">ubuntu14+vmwear联网</a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              

              
                
              

              <time title="创建时间：2019-05-16 14:30:08 / 修改时间：13:54:20" itemprop="dateCreated datePublished" datetime="2019-05-16T14:30:08+08:00">2019-05-16</time>
            

            
              

              
            
          </span>

          

          
            
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <div class="htmledit_views" id="content_views"><br>            <p>1.在虚拟机中添加vmnet8，设置为nat模式<br><br>点击虚拟机菜单栏的编辑–&gt;虚拟网络编辑器：弹出窗口如下</p><br><br><p> <img alt class="has" height="174" src="https://img-blog.csdn.net/20181015202545155?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2tlX3lpXw==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" width="602"><img alt class="has" height="187" src="https://img-blog.csdn.net/20181015202619944?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2tlX3lpXw==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" width="503"><img alt class="has" height="198" src="https://img-blog.csdn.net/20181015202705874?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2tlX3lpXw==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" width="466"></p><br><br><p><img alt class="has" height="433" src="https://img-blog.csdn.net/20181015202820729?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2tlX3lpXw==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" width="487"></p><br><br><p>2. 打开网络共享中心–&gt;更改适配器设置：可以看到有一个vmnet8</p><br><br><p>然后点击物理机联网的适配器–&gt;共享–&gt;勾选“允许其他网络用户。。。。”–&gt;选择vmnet8–&gt;确认保存</p><br><br><p><img alt class="has" height="382" src="https://img-blog.csdn.net/20181015203359579?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2tlX3lpXw==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" width="856"></p><br><br><p> 3.设置ubuntu14虚拟计算机网络属性，选择自定义为vnet8，确认保存，进入虚拟计算机就可以了。</p><br><br><p><img alt class="has" height="317" src="https://img-blog.csdn.net/20181015203828806?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2tlX3lpXw==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" width="948"></p><br><br><p> </p>          </div>

          
        
      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/05/16/83063776/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="ke_yi_">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/ke_yi_head.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="KE_YI_">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                
                <a href="/2019/05/16/83063776/" class="post-title-link" itemprop="url">实验室网线联网经验</a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              

              
                
              

              <time title="创建时间：2019-05-16 14:30:08 / 修改时间：13:54:20" itemprop="dateCreated datePublished" datetime="2019-05-16T14:30:08+08:00">2019-05-16</time>
            

            
              

              
            
          </span>

          

          
            
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <div class="htmledit_views" id="content_views"><br>            <p> 由于学校实验室是局域网，所给的ip都是分配好了的，需要设置固定ip地址才能上网</p><br><br><p> </p><br><br><ol><li>打开文件管理（按win+E）</li><br>    <li>在搜索框输入（控制面板\网络和 Internet\网络和共享中心）括号中的内容，enter搜索（打开网络共享中心）<img alt class="has" height="179" src="https://img-blog.csdn.net/20181015195745643?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2tlX3lpXw==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" width="528"></li><br>    <li>点击以太网<img alt class="has" height="204" src="https://img-blog.csdn.net/20181015195745660?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2tlX3lpXw==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" width="299"></li><br>    <li>点击属性</li><br>    <li>双击击ipv4，如下<img alt class="has" height="241" src="https://img-blog.csdn.net/20181015195745703?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2tlX3lpXw==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" width="408"></li><br>    <li>进入后就可以选择固定ip，输入IP相关信息<img alt class="has" height="346" src="https://img-blog.csdn.net/20181015195745715?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2tlX3lpXw==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" width="283"></li><br>    <li>最后确认保存。</li><br></ol>          </div>

          
        
      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/05/16/81981012/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="ke_yi_">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/ke_yi_head.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="KE_YI_">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                
                <a href="/2019/05/16/81981012/" class="post-title-link" itemprop="url">fzu  Problem 2169 shadow</a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              

              
                
              

              <time title="创建时间：2019-05-16 14:30:08 / 修改时间：13:54:21" itemprop="dateCreated datePublished" datetime="2019-05-16T14:30:08+08:00">2019-05-16</time>
            

            
              

              
            
          </span>

          

          
            
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <div class="htmledit_views" id="content_views"><br>            <p><strong>Problem 2169 shadow</strong></p><br><br><h3>Accept: 425    Submit: 1666<br><br>Time Limit: 1000 mSec    Memory Limit : 32768 KB</h3><br><br><h2><img alt class="has" src="http://acm.fzu.edu.cn/image/prodesc.gif"> Problem Description</h2><br><br><p>YL是shadow国的国王,shadow国有N个城市。为了节省开支,shadow国只有N-1条道路,这N-1条道路使得N个城市连通。某一年,shadow国发生了叛乱,叛军占领了多个城市,王都岌岌可危。王都为编号为1的城市，除了王都外有K个城市有YL的军队。现在这K支军队要向王都进军，并且消灭沿途经过的城市中的叛军。现给出N个城市的道路情况以及城市的叛军数量，问总共需要消灭多少叛军？</p><br><br><h2><img alt class="has" src="http://acm.fzu.edu.cn/image/prodesc.gif"> Input</h2><br><br><p>第一行输入两个整数N，K，接下来输入N(1&lt;=N&lt;=100000)个整数Ai(0&lt;=Ai&lt;=10000)，表示第i个城市的叛军数量。接下来输入K个大于等于1且小于等于N的整数，表示有军队的城市的编号。数据保证王都以及有军队的城市没有叛军。接下来输入N-1行，每行两个整数u、v，表示连接u和v的一条道路。每支军队只能沿着道路走，并且是其所在城市与王都之间的最短路线走。</p><br><br><h2><img alt class="has" src="http://acm.fzu.edu.cn/image/prodesc.gif"> Output</h2><br><br><p>输出一行一个整数表示消灭的叛军数量。</p><br><br><h2><img alt class="has" src="http://acm.fzu.edu.cn/image/prodesc.gif"> Sample Input</h2><br><br><p>4 2 0 3 0 0 3 4 1 2 2 3 2 4</p><br><br><h2><img alt class="has" src="http://acm.fzu.edu.cn/image/prodesc.gif"> Sample Output</h2><br><br><p>3</p><br><br><p> 虽然数据很弱，可以很简单的代码就过，但是还是不要错过这个简单的图算法题目。</p><br><br><p>广度优先搜索，从1开始搜遇到一个有友军的城市就回溯，将路径上的所有敌军消灭，一个队列就可以解决，但是需要制作很多标记，敌军标记，友军标记，访问标记，然后队列就要有上一个城市标记，图因为太大使用邻接表存储，ylarmy.a[i]为0表示没有访问过，1表示访问过，2表示友军所在城市，为3表示皇城。ylarmy.b[i]表示回溯过的城市，也就是走过的路，这个标记是防止走重复路的，因为每一次回溯都回溯到皇城的话就会走太多的重复路，差不多就是dp中剪枝的意思。代码如下：</p><br><br><pre class="has"><br><code class="language-cpp">#include&lt;cstdio&gt;<br>#include&lt;cstdlib&gt;<br>#include&lt;cstring&gt;<br>#include&lt;iostream&gt;<br>using namespace std;<br>const int maxn=1e5+5;<br>struct Enode{int endpoint;Enode <em>nextEdg;};//边终点标记<br>struct Vnode{int reble_army;Enode </em>firstedg;};//叛军//第一条边<br>struct Graph{Vnode vnode[maxn];int n;}g;<br>struct{int a[maxn];bool b[maxn];}ylarmy;<br>struct queue{int pre,d;};<br>void clearg(int n){<br>    g.n=n;<br>    for(int i=0;i&lt;=n;i++)<br>        g.vnode[i].firstedg=NULL;<br>}<br>void insert(int start,int end){<br>    Enode <em>p=(Enode</em>)malloc(sizeof(Enode));<br>    p-&gt;endpoint=end;<br>    p-&gt;nextEdg=g.vnode[start].firstedg;<br>    g.vnode[start].firstedg=p;<br>}<br>int Bfs(){<br>    int ans=0,x;Enode *e;<br>    queue q[maxn];int front=-1,rear=-1;<br>    rear++;q[rear].pre=-1;q[rear].d=1;<br>    ylarmy.a[1]=3;ylarmy.b[1]=true;<br>    while(front!=rear){<br>        e=g.vnode[q[++front].d].firstedg;<br>        while(e!=NULL{<br>            if(ylarmy.a[e-&gt;endpoint]==2){<br>                ans+=g.vnode[e-&gt;endpoint].reble_army;<br>                int d=q[front].d;<br>                int pre=q[front].pre;<br>                while(!ylarmy.b[d]){<br>                    ans+=g.vnode[d].reble_army;<br>                    g.vnode[d].reble_army=0;<br>                    ylarmy.b[d]=true;<br>                    d=q[pre].d;<br>                    pre=q[pre].pre;<br>                }<br>                ylarmy.a[e-&gt;endpoint]=0;<br>            }<br>            if(ylarmy.a[e-&gt;endpoint]==0){<br>                ylarmy.a[e-&gt;endpoint]=1;///表示已经走过的点<br>                q[++rear].pre=front;<br>                q[rear].d=e-&gt;endpoint;<br>            }<br>            e=e-&gt;nextEdg;<br>        }<br>    }<br>    return ans;<br>}<br>int main()<br>{<br>    int n,k;<br>    int i,p1,p2,d;<br>    while(~scanf(“%d%d”,&amp;n,&amp;k)){<br>        memset(ylarmy.a,0,sizeof(ylarmy.a));<br>        memset(ylarmy.b,0,sizeof(ylarmy.b));<br>        clearg(n);<br>        for(i=1;i&lt;=n;i++)<br>            scanf(“%d”,&amp;g.vnode[i].reble_army);<br>        for(i=0;i&lt;k;i++){<br>            scanf(“%d”,&amp;d);<br>            ylarmy.a[d]=2;///表示友军<br>        }<br>        i=n-1;<br>        while(i–){<br>            scanf(“%d%d”,&amp;p1,&amp;p2);<br>            insert(p1,p2);<br>            insert(p2,p1);<br>        }<br>        printf(“%d\n”,Bfs());<br>    }<br>    return 0;<br>}<br></code></pre><br><br><p> 有点长，但是思路很清晰，容易理解。</p><br><br><p> </p>          </div>

          
        
      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/05/16/81908835/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="ke_yi_">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/ke_yi_head.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="KE_YI_">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                
                <a href="/2019/05/16/81908835/" class="post-title-link" itemprop="url">while与string::length()使用的错误</a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              

              
                
              

              <time title="创建时间：2019-05-16 14:30:08 / 修改时间：13:54:22" itemprop="dateCreated datePublished" datetime="2019-05-16T14:30:08+08:00">2019-05-16</time>
            

            
              

              
            
          </span>

          

          
            
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <div class="htmledit_views" id="content_views"><br>            <p>在一次做题中，发现while(j&lt;str.length())逻辑不正确的情况，比如当j=0并且str.length()==10的或者其它数，算数上j是要小于str.length()的，但是当用c/c++实现这条代码是cout&lt;&lt;j&lt;str.length()&lt;&lt;endl,输出的是0。很奇怪。</p><br><br><p>当时我做的是nyoj5Binary String Matching 使用的是一个自己改的kmp模板；在模板实现的时候遇到的这个问题</p><br><br><p>正确代码</p><br><br><pre class="has"><br><code class="language-cpp">#include&lt;iostream&gt;<br>#include&lt;string&gt;<br>using namespace std;<br>const int MaxSize=1e5;<br>void GetNextval(string t,int nextval[])<br>{<br>    int j=0,k=-1;<br>    nextval[0]=-1;<br>    while(j&lt;t.length())<br>    {<br>        if(k==-1||t[j]==t[k])<br>        {<br>            j++;k++;<br>            if(t[j]!=t[k])<br>                nextval[j]=k;<br>            else<br>                nextval[j]=nextval[k];<br>        }<br>        else<br>            k=nextval[k];<br>    }<br>}<br>int KMPIndex(string s,string t)<br>{<br>    int nextval[MaxSize],i=0,j=0;<br>    GetNextval(t,nextval);<br>    int result=0;<br>    int sl=s.length(),tl=t.length();<br>    while(i&lt;sl){<br>    //cout&lt;&lt;s.length()&lt;&lt;endl&lt;&lt;t.length()&lt;&lt;endl;<br>    //cout&lt;&lt;i&lt;&lt;endl&lt;&lt;j&lt;&lt;endl;<br>    //cout&lt;&lt;(i&lt;s.length()&amp;&amp;j&lt;t.length())&lt;&lt;endl;<br>    while(i&lt;sl&amp;&amp;j&lt;tl)///((i&lt;s.length())&amp;&amp;(j&lt;t.length()))//<br>    {<br>        if(j==-1||s[i]==t[j])<br>        {<br>            i++;<br>            j++;<br>        }<br>        else<br>            j=nextval[j];<br>    }<br>    if(j==t.length())<br>    {<br>        result++;<br>        i=i-j+1;<br>        j=0;<br>    }<br>    }<br>    return result;<br>}<br>int main()<br>{<br><br>    //freopen(“C:\Users\zhou\Desktop\in.txt”,”r”,stdin);<br>    //freopen(“C:\Users\zhou\Desktop\out.txt”,”w”,stdout);<br>    ios::sync_with_stdio(false);<br>    string s,t;<br>    int n;<br>    cin&gt;&gt;n;<br>    while(n–)<br>    {<br>        t.clear();s.clear();<br>        cin&gt;&gt;t&gt;&gt;s;<br>        //cout&lt;&lt;t&lt;&lt;endl&lt;&lt;s&lt;&lt;endl;<br>        int r=KMPIndex(s,t);<br>        cout&lt;&lt;r&lt;&lt;endl;<br>    }<br>    return 0;<br>}<br></code></pre><br><br><p> 错误代码如下：（错误代码比正确代码只有kmp函数的while（）中有区别）</p><br><br><pre class="has"><br><code class="language-cpp">#include&lt;iostream&gt;<br>#include&lt;string&gt;<br>using namespace std;<br>const int MaxSize=1e5;<br>void GetNextval(string t,int nextval[])<br>{<br>    int j=0,k=-1;<br>    nextval[0]=-1;<br>    while(j&lt;t.length())<br>    {<br>        if(k==-1||t[j]==t[k])<br>        {<br>            j++;k++;<br>            if(t[j]!=t[k])<br>                nextval[j]=k;<br>            else<br>                nextval[j]=nextval[k];<br>        }<br>        else<br>            k=nextval[k];<br>    }<br>}<br>int KMPIndex(string s,string t)<br>{<br>    int nextval[MaxSize],i=0,j=0;<br>    GetNextval(t,nextval);<br>    int result=0;<br>    int sl=s.length(),tl=t.length();<br>    while(i&lt;sl){<br>    //cout&lt;&lt;s.length()&lt;&lt;endl&lt;&lt;t.length()&lt;&lt;endl;<br>    //cout&lt;&lt;i&lt;&lt;endl&lt;&lt;j&lt;&lt;endl;<br>    //cout&lt;&lt;(i&lt;s.length()&amp;&amp;j&lt;t.length())&lt;&lt;endl;<br>    while((i&lt;s.length())&amp;&amp;(j&lt;t.length()))//(i&lt;sl&amp;&amp;j&lt;tl)///<br>    {<br>        if(j==-1||s[i]==t[j])<br>        {<br>            i++;<br>            j++;<br>        }<br>        else<br>            j=nextval[j];<br>    }<br>    if(j==t.length())<br>    {<br>        result++;<br>        i=i-j+1;<br>        j=0;<br>    }<br>    }<br>    return result;<br>}<br>int main()<br>{<br><br>    //freopen(“C:\Users\zhou\Desktop\in.txt”,”r”,stdin);<br>    //freopen(“C:\Users\zhou\Desktop\out.txt”,”w”,stdout);<br>    ios::sync_with_stdio(false);<br>    string s,t;<br>    int n;<br>    cin&gt;&gt;n;<br>    while(n–)<br>    {<br>        t.clear();s.clear();<br>        cin&gt;&gt;t&gt;&gt;s;<br>        //cout&lt;&lt;t&lt;&lt;endl&lt;&lt;s&lt;&lt;endl;<br>        int r=KMPIndex(s,t);<br>        cout&lt;&lt;r&lt;&lt;endl;<br>    }<br>    return 0;<br>}<br></code></pre><br><br><p>解释原因，来自百度知道<a href="https://zhidao.baidu.com/usercenter?uid=87fe4069236f25705e793901" rel="noopener" target="_blank">missgya</a>的<a href="https://zhidao.baidu.com/question/537621390.html" rel="noopener" target="_blank">回答</a></p><br><br><p>因为string的length函数，<a href="https://www.baidu.com/s?wd=%E8%BF%94%E5%9B%9E%E7%B1%BB%E5%9E%8B&amp;tn=SE_PcZhidaonwhc_ngpagmjz&amp;rsv_dl=gh_pc_zhidao" rel="noopener" target="_blank">返回类型</a><a href="https://www.baidu.com/s?wd=size_type&amp;tn=SE_PcZhidaonwhc_ngpagmjz&amp;rsv_dl=gh_pc_zhidao" rel="noopener" target="_blank">size_type</a>是个无符号类型：</p><br><br><p><a href="https://www.baidu.com/s?wd=size_type&amp;tn=SE_PcZhidaonwhc_ngpagmjz&amp;rsv_dl=gh_pc_zhidao" rel="noopener" target="_blank">size_type</a> length( ) const;</p><br><br><p><a href="https://www.baidu.com/s?wd=size_type&amp;tn=SE_PcZhidaonwhc_ngpagmjz&amp;rsv_dl=gh_pc_zhidao" rel="noopener" target="_blank">size_type</a>   An unsigned integral type for the number of elements in a string</p><br><br><p> </p><br><br><p>而根据C语言的类型自动转换规则，当signed和unsigned作运算时，signed会自动转换为unsigned。</p><br><br><p>例如：</p><br><br><pre class="has"><br><code class="language-cpp">void main()<br>{<br>    int a = -1;<br>    unsigned int b = 10;<br>    if (a &lt; b)<br>    {<br>        cout&lt;&lt; “right\n”;<br>    }<br>    else<br>    {<br>        cout&lt;&lt; “wrong\n”;<br>    }<br>}</code></pre><br><br><p><br><br>程序输出结果是wrong。因为在把a和b做比较时，会自动把a变成一个unsigned。</p><br><br><p>同样的原因，当你用：</p><br><br><p>while(i&lt;test.length()&amp;&amp;j&lt;par.length())时，length函数返回的是个unsigned，假如在判断过程中，j变成了-1，j &lt; par.length()这个条件将不会再成立，因此循环退出。</p><br><br><p>为什么while(i&lt;length1&amp;&amp;j&lt;length)   正确呢，因为在此之前你定义的length1和length都是int，已经把length()函数返回的值变成signed了。</p><br><br><p>所以，你可以这么判断：</p><br><br><p>while(i&lt;(signed int)test.length()&amp;&amp;j&lt; (signed int)par.length())</p>          </div>

          
        
      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/05/16/81872158/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="ke_yi_">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/ke_yi_head.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="KE_YI_">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                
                <a href="/2019/05/16/81872158/" class="post-title-link" itemprop="url">防线（Defense Lines,ACM/ICPC CERC 2010 UVa1471)</a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              

              
                
              

              <time title="创建时间：2019-05-16 14:30:08 / 修改时间：13:54:23" itemprop="dateCreated datePublished" datetime="2019-05-16T14:30:08+08:00">2019-05-16</time>
            

            
              

              
            
          </span>

          

          
            
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <div class="htmledit_views" id="content_views"><br>            <p>题目大意：</p><br><br><p>给一个长度为n（n&lt;=200000)的序列，你的任务时删除一个连续子序列，使得剩下的序列中有一个长度最大的连续增子序列。</p><br><br><p>预处理得到g[i]（表示a[i]结尾的最长连续增序列）f[i]（表示a[i]开头的最长连续增序列），用set存a[i],g[i],然后通过f[i]找最优的a[j],g[j]。</p><br><br><pre class="has"><br><code class="language-cpp">// UVa1471 Defense Lines<br>// Rujia Liu<br>// Algorithm 1: use STL set to maintain the candidates.<br>// This is a little bit more intuitive, but less efficient (than algorithm 2)<br>#include&lt;cstdio&gt;<br>#include&lt;set&gt;<br>#include&lt;cassert&gt;<br>using namespace std;<br><br>const int maxn = 200000 + 5;<br>int n, a[maxn], f[maxn], g[maxn];<br><br>struct Candidate {<br>  int a, g;<br>  Candidate(int a, int g):a(a),g(g) {}<br>  bool operator &lt; (const Candidate&amp; rhs) const {<br>    return a &lt; rhs.a;<br>  }<br>};<br><br>set&lt;Candidate&gt; s;<br><br>int main() {<br>  int T;<br>  scanf(“%d”, &amp;T);<br>  while(T–) {<br>    scanf(“%d”, &amp;n);<br>    for(int i = 0; i &lt; n; i++)<br>      scanf(“%d”, &amp;a[i]);<br>    if(n == 1) { printf(“1\n”); continue; }<br><br>    g[0] = 1;<br>    for(int i = 1; i &lt; n; i++)///得到g<br>      if(a[i-1] &lt; a[i]) g[i] = g[i-1] + 1;<br>      else g[i] = 1;<br><br>    f[n-1] = 1;<br>    for(int i = n-2; i &gt;= 0; i–)///得到f<br>      if(a[i] &lt; a[i+1]) f[i] = f[i+1] + 1;<br>      else f[i] = 1;<br><br>    s.clear();<br>    s.insert(Candidate(a[0], g[0]));//初始化s<br>    int ans = 1;//开始时字串的长度为1<br>    for(int i = 1; i &lt; n; i++) {<br>      Candidate c(a[i], g[i]);<br><br>      // 找到s中第一个第一个大于或等于c.a的位置<br><br>      set&lt;Candidate&gt;::iterator it = s.lower_bound(c);<br>      bool keep = true;<br>      //用于标记c是否满足进入后面考虑情况的条件<br>      //存在小于它的数时，如果c.g更小，那么就没有必要考虑，也就不满足条件<br><br>      if(it != s.begin()) {<br>        Candidate last = *(–it); //找到离它最近的一个小于它的数<br>        int len = f[i] + last.g;<br>        ans = max(ans, len);<br>        if(c.g &lt;= last.g) keep = false;<br>      }<br><br>      if(keep) {<br>        s.erase(c); // 删除原来那个c.a的那个<br>        s.insert(c);//插入新的c<br>        it = s.find(c);<br>        it++;<br>        //在c位置后面的数种删除不满足条件的数据<br>        while(it != s.end() &amp;&amp; it-&gt;a &gt; c.a &amp;&amp; it-&gt;g &lt;= c.g) s.erase(it++);<br>      }<br>    }<br>    printf(“%d\n”, ans);<br>  }<br>  return 0;<br>}<br><br>//代码来自<a href="https://github.com/aoapc-book/aoapc-bac2nd" target="_blank" rel="noopener">https://github.com/aoapc-book/aoapc-bac2nd</a></code></pre><br><br><p> </p>          </div>

          
        
      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/05/16/81870192/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="ke_yi_">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/ke_yi_head.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="KE_YI_">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                
                <a href="/2019/05/16/81870192/" class="post-title-link" itemprop="url">紫书中所说的代码仓库链接</a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              

              
                
              

              <time title="创建时间：2019-05-16 14:30:08 / 修改时间：13:54:24" itemprop="dateCreated datePublished" datetime="2019-05-16T14:30:08+08:00">2019-05-16</time>
            

            
              

              
            
          </span>

          

          
            
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <div class="htmledit_views" id="content_views"><br>            <p><a href="https://github.com/aoapc-book/aoapc-bac2nd" rel="noopener" target="_blank">git</a></p>          </div>

          
        
      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/05/16/81869769/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="ke_yi_">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/ke_yi_head.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="KE_YI_">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                
                <a href="/2019/05/16/81869769/" class="post-title-link" itemprop="url">poj2823----sliding window</a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              

              
                
              

              <time title="创建时间：2019-05-16 14:30:08 / 修改时间：13:54:25" itemprop="dateCreated datePublished" datetime="2019-05-16T14:30:08+08:00">2019-05-16</time>
            

            
              

              
            
          </span>

          

          
            
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <div class="htmledit_views" id="content_views"><br>            <p>单调队列_优先队列入门题</p><br><br><p><strong><span style="color:#0000ff;">Sliding Window</span></strong></p><br><br><table align="center"><tbody><tr><td><span style="color:#000000;"><strong>Time Limit:</strong> 12000MS</span></td><br>            <td> </td><br>            <td><span style="color:#000000;"><strong>Memory Limit:</strong> 65536K</span></td><br>        </tr><tr><td><span style="color:#000000;"><strong>Total Submissions:</strong> 71411</span></td><br>            <td> </td><br>            <td><span style="color:#000000;"><strong>Accepted:</strong> 20312</span></td><br>        </tr><tr><td colspan="3"><span style="color:#000000;"><span style="color:#0ead00;"><strong>Case Time Limit:</strong> 5000MS</span></span></td><br>        </tr></tbody></table><p><strong><span style="color:#0000ff;">Description</span></strong></p><br><br><p><span style="color:#000000;">An array of size <em>n</em> ≤ 106 is given to you. There is a sliding window of size <em>k</em> which is moving from the very left of the array to the very right. You can only see the <em>k</em> numbers in the window. Each time the sliding window moves rightwards by one position. Following is an example: <br><br>The array is [1 3 -1 -3 5 3 6 7], and <em>k</em> is 3.</span></p><br><br><table><tbody><tr><th><span style="color:#000000;">Window position</span></th><br>            <th><span style="color:#000000;">Minimum value</span></th><br>            <th><span style="color:#000000;">Maximum value</span></th><br>        </tr><tr><td><span style="color:#000000;">[1  3  -1] -3  5  3  6  7 </span></td><br>            <td><span style="color:#000000;">-1</span></td><br>            <td><span style="color:#000000;">3</span></td><br>        </tr><tr><td><span style="color:#000000;"> 1 [3  -1  -3] 5  3  6  7 </span></td><br>            <td><span style="color:#000000;">-3</span></td><br>            <td><span style="color:#000000;">3</span></td><br>        </tr><tr><td><span style="color:#000000;"> 1  3 [-1  -3  5] 3  6  7 </span></td><br>            <td><span style="color:#000000;">-3</span></td><br>            <td><span style="color:#000000;">5</span></td><br>        </tr><tr><td><span style="color:#000000;"> 1  3  -1 [-3  5  3] 6  7 </span></td><br>            <td><span style="color:#000000;">-3</span></td><br>            <td><span style="color:#000000;">5</span></td><br>        </tr><tr><td><span style="color:#000000;"> 1  3  -1  -3 [5  3  6] 7 </span></td><br>            <td><span style="color:#000000;">3</span></td><br>            <td><span style="color:#000000;">6</span></td><br>        </tr><tr><td><span style="color:#000000;"> 1  3  -1  -3  5 [3  6  7]</span></td><br>            <td><span style="color:#000000;">3</span></td><br>            <td><span style="color:#000000;">7</span></td><br>        </tr></tbody></table><p><span style="color:#000000;">Your task is to determine the maximum and minimum values in the sliding window at each position. </span></p><br><br><p><strong><span style="color:#0000ff;">Input</span></strong></p><br><br><p><span style="color:#000000;">The input consists of two lines. The first line contains two integers <em>n</em> and <em>k</em> which are the lengths of the array and the sliding window. There are <em>n</em> integers in the second line. </span></p><br><br><p><strong><span style="color:#0000ff;">Output</span></strong></p><br><br><p><span style="color:#000000;">There are two lines in the output. The first line gives the minimum values in the window at each position, from left to right, respectively. The second line gives the maximum values. </span></p><br><br><p><strong><span style="color:#0000ff;">Sample Input</span></strong></p><br><br><pre class="has"><br><code class="language-sio">8 3<br>1 3 -1 -3 5 3 6 7<br></code></pre><br><br><p><strong><span style="color:#0000ff;">Sample Output</span></strong></p><br><br><pre class="has"><br><code class="language-sio">-1 -3 -3 -3 3 3<br>3 3 5 5 6 7&lt;/span&gt;</code></pre><br><br><p> 两个priority_queue&lt;int&gt;（优先队列）可以实现。用双端队列实现单调队列，同样可以实现。</p><br><br><p>初学者，由于第一次没有初始化mq.k一直wa，后来又rt，因为maxn定义了100。/xk</p><br><br><p>双端队列实现代码：没有优化，优化可能空间会更小，这样看着比较直观。</p><br><br><p>*求最小时，因为窗口滑动的时候，如果是“小  大    较小”这个样的，然后k的范围大于3，那么中间哪个大的数完全可以不要记录在里面。同样求最大时也是一样的。</p><br><br><pre class="has"><br><code class="language-cpp">#include&lt;iostream&gt;<br>#include&lt;deque&gt;<br>#define maxn 1000006<br>using namespace std;<br>int a[maxn],ma[maxn],mi[maxn];<br>struct node<br>{<br>    int d;<br>    int i;<br>    node(int dd,int ii)<br>    {<br>        d=dd;<br>        i=ii;<br>    }<br>};<br>template &lt;typename Item&gt;struct monotone_queue<br>{<br>    std::deque&lt;Item&gt; data,ma;<br>    int k;<br>    void push(Item it)<br>    {<br>        while(!data.empty()&amp;&amp;data.back().i&lt;=it.i-k)data.pop_back();<br>        while(!data.empty()&amp;&amp;data.front().d&gt;it.d)data.pop_front();<br>        data.push_front(it);<br>        while(!ma.empty()&amp;&amp;ma.back().i&lt;=it.i-k)ma.pop_back();<br>        while(!ma.empty()&amp;&amp;ma.front().d&lt;it.d)ma.pop_front();<br>        ma.push_front(it);<br>    }<br>    void clear(){data.clear();}<br>    Item min(){return data.back();}<br>    Item max(){return ma.back();}<br>};<br>int main()<br>{<br><br>    //freopen(“C:\Users\zhou\Desktop\1.in”,”r”,stdin);<br>    //freopen(“C:\Users\zhou\Desktop\1.out”,”w”,stdout);<br>    monotone_queue&lt;node&gt; mq;<br>    int n,k;<br>    scanf(“%d%d”,&amp;n,&amp;k);<br>    mq.k=k;<br>    for(int i=1;i&lt;=n;i++)<br>        scanf(“%d”,&amp;a[i]);<br>    for(int i=1;i&lt;k;i++)<br>        mq.push(node(a[i],i));<br>    int j=0;<br>    for(int i=k;i&lt;=n;i++)<br>    {<br>        mq.push(node(a[i],i));<br>        mi[j]=mq.min().d;<br>        ma[j]=mq.max().d;<br>        j++;<br>    }<br>    for(int i=0;i&lt;j-1;i++)<br>        printf(“%d “,mi[i]);<br>    printf(“%d\n”,mi[j-1]);<br>    for(int i=0;i&lt;j-1;i++)<br>        printf(“%d “,ma[i]);<br>    printf(“%d\n”,ma[j-1]);<br>    return 0;<br>}<br></code></pre><br><br><p> </p>          </div>

          
        
      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/05/16/81808699/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="ke_yi_">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/ke_yi_head.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="KE_YI_">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                
                <a href="/2019/05/16/81808699/" class="post-title-link" itemprop="url">ZOJ Problem Set - 4020</a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              

              
                
              

              <time title="创建时间：2019-05-16 14:30:08 / 修改时间：13:54:26" itemprop="dateCreated datePublished" datetime="2019-05-16T14:30:08+08:00">2019-05-16</time>
            

            
              

              
            
          </span>

          

          
            
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <div class="htmledit_views" id="content_views"><br>            <p><a href="http://acm.zju.edu.cn/onlinejudge/showProblem.do?problemCode=4020" rel="noopener" target="_blank">ZOJ Problem Set - 4020</a></p><br><br><pre class="has"><br><code class="language-cpp">#include&lt;iostream&gt;<br>#include&lt;cstdio&gt;<br>#include&lt;vector&gt;<br>#include&lt;queue&gt;<br>using namespace std;<br>const int maxn=1e5+5;<br>vector&lt;int&gt; mg[maxn];<br>vector&lt;int&gt; t[maxn];<br>int n,m;<br>struct node<br>{<br>    int x,y;<br>    int step;<br>};<br>bool mgph(int xi,int yi,int xe,int ye)<br>{<br>    queue&lt;node&gt; qu;<br>    node temp;<br>    temp.x=yi,temp.y=xi,temp.step=0;<br>    t[xi][yi]=-1;<br>    qu.push(temp);<br>    int x,y;<br>    while(!qu.empty())<br>    {<br>        temp=qu.front();<br>        //cout&lt;&lt;temp.y&lt;&lt;ends&lt;&lt;temp.x&lt;&lt;ends&lt;&lt;temp.step&lt;&lt;endl;<br>        qu.pop();<br>        if(temp.x==ye&amp;&amp;temp.y==xe)<br>        {<br>            printf(“%d\n”,temp.step);<br>            return true;<br>        }<br>        for(int i=0;i&lt;2;i++)<br>        {<br>            if((mg[temp.y][temp.x]+temp.step)%2==0)<br>            {<br>                x=temp.x;<br>                switch(i)<br>                {<br>                    case 0: y=temp.y+1;break;<br>                    case 1: y=temp.y-1;break;<br>                }<br>            }<br>            else<br>            {<br>                y=temp.y;<br>                switch(i)<br>                {<br>                    case 0: x=temp.x+1;break;<br>                    case 1: x=temp.x-1;break;<br>                }<br>            }<br>            if(x&gt;=0&amp;&amp;x&lt;m&amp;&amp;y&gt;=0&amp;&amp;y&lt;n&amp;&amp;(t[y][x]==0||(t[y][x]==-1&amp;&amp;temp.step%2==0)))<br>            {<br>                node temp1;<br>                temp1.x=x,temp1.y=y,temp1.step=temp.step+1;<br>                t[y][x]-=1;<br>                qu.push(temp1);<br>            }<br>        }<br>    }<br>    return false;<br>}<br>int main()<br>{<br>    int T;<br>    scanf(“%d”,&amp;T);<br>    while(T–)<br>    {<br>        scanf(“%d%d”,&amp;n,&amp;m);<br>        int d;<br>        for(int i=0;i&lt;n;i++){<br>                mg[i].clear();<br>                t[i].clear();<br><br>        for(int j=0;j&lt;m;j++){<br>           scanf(“%d”,&amp;d);<br>           mg[i].push_back(d);<br>           t[i].push_back(false);<br>        }<br>        }<br>        int xi,yi,xe,ye;<br>        scanf(“%d%d%d%d”,&amp;xi,&amp;yi,&amp;xe,&amp;ye);<br>        if(!mgph(xi-1,yi-1,xe-1,ye-1))<br>        {<br>            printf(“-1\n”);<br>        }<br>    }<br>    return 0;<br>}</code></pre><br><br><p> </p>          </div>

          
        
      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
  </section>

  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/page/3/"><i class="fa fa-angle-left" aria-label="上一页"></i></a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/3/">3</a><span class="page-number current">4</span><a class="page-number" href="/page/5/">5</a><span class="space">&hellip;</span><a class="page-number" href="/page/11/">11</a><a class="extend next" rel="next" href="/page/5/"><i class="fa fa-angle-right" aria-label="下一页"></i></a>
  </nav>



          </div>
          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      

      

      <div class="site-overview-wrap sidebar-panel sidebar-panel-active">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <img class="site-author-image" itemprop="image" src="/images/ke_yi_head.jpg" alt="ke_yi_">
            
              <p class="site-author-name" itemprop="name">ke_yi_</p>
              <div class="site-description motion-element" itemprop="description"></div>
          </div>

          
            <nav class="site-state motion-element">
              
                <div class="site-state-item site-state-posts">
                
                  <a href="/archives/">
                
                    <span class="site-state-item-count">104</span>
                    <span class="site-state-item-name">日志</span>
                  </a>
                </div>
              

              

              
            </nav>
          

          

          

          
            <div class="links-of-author motion-element">
              
                <span class="links-of-author-item">
                  
                  
                  
                    
                  
                  <a href="https://github.com/zyipeng" title="GitHub &rarr; https://github.com/zyipeng" rel="noopener" target="_blank"><i class="fa fa-fw fa-github"></i></a>
                </span>
              
                <span class="links-of-author-item">
                  
                  
                  
                    
                  
                  <a href="/ke_yi_zhou@163.com" title="E-Mail &rarr; ke_yi_zhou@163.com"><i class="fa fa-fw fa-envelope"></i></a>
                </span>
              
                <span class="links-of-author-item">
                  
                  
                  
                    
                  
                  <a href="https://blog.csdn.net/ke_yi_" title="Weibo &rarr; https://blog.csdn.net/ke_yi_" rel="noopener" target="_blank"><i class="fa fa-fw fa-weibo"></i></a>
                </span>
              
            </div>
          

          

          
          

          
            
          
          

        </div>
      </div>

      

      
        <div class="back-to-top">
          <i class="fa fa-arrow-up"></i>
          
            <span id="scrollpercent"><span>0</span>%</span>
          
        </div>
      

    </div>
  </aside>
  


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2019</span>
  <span class="with-love" id="animate">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">ke_yi_</span>

  

  
</div>


  <div class="powered-by">由 <a href="https://hexo.io" class="theme-link" rel="noopener" target="_blank">Hexo</a> 强力驱动 v3.8.0</div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">主题 – <a href="https://theme-next.org" class="theme-link" rel="noopener" target="_blank">NexT.Pisces</a> v7.1.1</div>




        








        
      </div>
    </footer>

    

    

    

    
  </div>

  

<script>
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>


























  
  <script src="/lib/jquery/index.js?v=2.1.3"></script>

  
  <script src="/lib/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>


  


  <script src="/js/utils.js?v=7.1.1"></script>

  <script src="/js/motion.js?v=7.1.1"></script>



  
  


  <script src="/js/affix.js?v=7.1.1"></script>

  <script src="/js/schemes/pisces.js?v=7.1.1"></script>



  

  


  <script src="/js/next-boot.js?v=7.1.1"></script>


  

  

  

  



  
  <script>
    // Popup Window;
    var isfetched = false;
    var isXml = true;
    // Search DB path;
    var search_path = "search.xml";
    if (search_path.length === 0) {
      search_path = "search.xml";
    } else if (/json$/i.test(search_path)) {
      isXml = false;
    }
    var path = "/" + search_path;
    // monitor main search box;

    var onPopupClose = function (e) {
      $('.popup').hide();
      $('#local-search-input').val('');
      $('.search-result-list').remove();
      $('#no-result').remove();
      $(".local-search-pop-overlay").remove();
      $('body').css('overflow', '');
    }

    function proceedsearch() {
      $("body")
        .append('<div class="search-popup-overlay local-search-pop-overlay"></div>')
        .css('overflow', 'hidden');
      $('.search-popup-overlay').click(onPopupClose);
      $('.popup').toggle();
      var $localSearchInput = $('#local-search-input');
      $localSearchInput.attr("autocapitalize", "none");
      $localSearchInput.attr("autocorrect", "off");
      $localSearchInput.focus();
    }

    // search function;
    var searchFunc = function(path, search_id, content_id) {
      'use strict';

      // start loading animation
      $("body")
        .append('<div class="search-popup-overlay local-search-pop-overlay">' +
          '<div id="search-loading-icon">' +
          '<i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i>' +
          '</div>' +
          '</div>')
        .css('overflow', 'hidden');
      $("#search-loading-icon").css('margin', '20% auto 0 auto').css('text-align', 'center');

      

      $.ajax({
        url: path,
        dataType: isXml ? "xml" : "json",
        async: true,
        success: function(res) {
          // get the contents from search data
          isfetched = true;
          $('.popup').detach().appendTo('.header-inner');
          var datas = isXml ? $("entry", res).map(function() {
            return {
              title: $("title", this).text(),
              content: $("content",this).text(),
              url: $("url" , this).text()
            };
          }).get() : res;
          var input = document.getElementById(search_id);
          var resultContent = document.getElementById(content_id);
          var inputEventFunction = function() {
            var searchText = input.value.trim().toLowerCase();
            var keywords = searchText.split(/[\s\-]+/);
            if (keywords.length > 1) {
              keywords.push(searchText);
            }
            var resultItems = [];
            if (searchText.length > 0) {
              // perform local searching
              datas.forEach(function(data) {
                var isMatch = false;
                var hitCount = 0;
                var searchTextCount = 0;
                var title = data.title.trim();
                var titleInLowerCase = title.toLowerCase();
                var content = data.content.trim().replace(/<[^>]+>/g,"");
                
                var contentInLowerCase = content.toLowerCase();
                var articleUrl = decodeURIComponent(data.url).replace(/\/{2,}/g, '/');
                var indexOfTitle = [];
                var indexOfContent = [];
                // only match articles with not empty titles
                if(title != '') {
                  keywords.forEach(function(keyword) {
                    function getIndexByWord(word, text, caseSensitive) {
                      var wordLen = word.length;
                      if (wordLen === 0) {
                        return [];
                      }
                      var startPosition = 0, position = [], index = [];
                      if (!caseSensitive) {
                        text = text.toLowerCase();
                        word = word.toLowerCase();
                      }
                      while ((position = text.indexOf(word, startPosition)) > -1) {
                        index.push({position: position, word: word});
                        startPosition = position + wordLen;
                      }
                      return index;
                    }

                    indexOfTitle = indexOfTitle.concat(getIndexByWord(keyword, titleInLowerCase, false));
                    indexOfContent = indexOfContent.concat(getIndexByWord(keyword, contentInLowerCase, false));
                  });
                  if (indexOfTitle.length > 0 || indexOfContent.length > 0) {
                    isMatch = true;
                    hitCount = indexOfTitle.length + indexOfContent.length;
                  }
                }

                // show search results

                if (isMatch) {
                  // sort index by position of keyword

                  [indexOfTitle, indexOfContent].forEach(function (index) {
                    index.sort(function (itemLeft, itemRight) {
                      if (itemRight.position !== itemLeft.position) {
                        return itemRight.position - itemLeft.position;
                      } else {
                        return itemLeft.word.length - itemRight.word.length;
                      }
                    });
                  });

                  // merge hits into slices

                  function mergeIntoSlice(text, start, end, index) {
                    var item = index[index.length - 1];
                    var position = item.position;
                    var word = item.word;
                    var hits = [];
                    var searchTextCountInSlice = 0;
                    while (position + word.length <= end && index.length != 0) {
                      if (word === searchText) {
                        searchTextCountInSlice++;
                      }
                      hits.push({position: position, length: word.length});
                      var wordEnd = position + word.length;

                      // move to next position of hit

                      index.pop();
                      while (index.length != 0) {
                        item = index[index.length - 1];
                        position = item.position;
                        word = item.word;
                        if (wordEnd > position) {
                          index.pop();
                        } else {
                          break;
                        }
                      }
                    }
                    searchTextCount += searchTextCountInSlice;
                    return {
                      hits: hits,
                      start: start,
                      end: end,
                      searchTextCount: searchTextCountInSlice
                    };
                  }

                  var slicesOfTitle = [];
                  if (indexOfTitle.length != 0) {
                    slicesOfTitle.push(mergeIntoSlice(title, 0, title.length, indexOfTitle));
                  }

                  var slicesOfContent = [];
                  while (indexOfContent.length != 0) {
                    var item = indexOfContent[indexOfContent.length - 1];
                    var position = item.position;
                    var word = item.word;
                    // cut out 100 characters
                    var start = position - 20;
                    var end = position + 80;
                    if(start < 0){
                      start = 0;
                    }
                    if (end < position + word.length) {
                      end = position + word.length;
                    }
                    if(end > content.length){
                      end = content.length;
                    }
                    slicesOfContent.push(mergeIntoSlice(content, start, end, indexOfContent));
                  }

                  // sort slices in content by search text's count and hits' count

                  slicesOfContent.sort(function (sliceLeft, sliceRight) {
                    if (sliceLeft.searchTextCount !== sliceRight.searchTextCount) {
                      return sliceRight.searchTextCount - sliceLeft.searchTextCount;
                    } else if (sliceLeft.hits.length !== sliceRight.hits.length) {
                      return sliceRight.hits.length - sliceLeft.hits.length;
                    } else {
                      return sliceLeft.start - sliceRight.start;
                    }
                  });

                  // select top N slices in content

                  var upperBound = parseInt('1');
                  if (upperBound >= 0) {
                    slicesOfContent = slicesOfContent.slice(0, upperBound);
                  }

                  // highlight title and content

                  function highlightKeyword(text, slice) {
                    var result = '';
                    var prevEnd = slice.start;
                    slice.hits.forEach(function (hit) {
                      result += text.substring(prevEnd, hit.position);
                      var end = hit.position + hit.length;
                      result += '<b class="search-keyword">' + text.substring(hit.position, end) + '</b>';
                      prevEnd = end;
                    });
                    result += text.substring(prevEnd, slice.end);
                    return result;
                  }

                  var resultItem = '';

                  if (slicesOfTitle.length != 0) {
                    resultItem += "<li><a href='" + articleUrl + "' class='search-result-title'>" + highlightKeyword(title, slicesOfTitle[0]) + "</a>";
                  } else {
                    resultItem += "<li><a href='" + articleUrl + "' class='search-result-title'>" + title + "</a>";
                  }

                  slicesOfContent.forEach(function (slice) {
                    resultItem += "<a href='" + articleUrl + "'>" +
                      "<p class=\"search-result\">" + highlightKeyword(content, slice) +
                      "...</p>" + "</a>";
                  });

                  resultItem += "</li>";
                  resultItems.push({
                    item: resultItem,
                    searchTextCount: searchTextCount,
                    hitCount: hitCount,
                    id: resultItems.length
                  });
                }
              })
            };
            if (keywords.length === 1 && keywords[0] === "") {
              resultContent.innerHTML = '<div id="no-result"><i class="fa fa-search fa-5x"></i></div>'
            } else if (resultItems.length === 0) {
              resultContent.innerHTML = '<div id="no-result"><i class="fa fa-frown-o fa-5x"></i></div>'
            } else {
              resultItems.sort(function (resultLeft, resultRight) {
                if (resultLeft.searchTextCount !== resultRight.searchTextCount) {
                  return resultRight.searchTextCount - resultLeft.searchTextCount;
                } else if (resultLeft.hitCount !== resultRight.hitCount) {
                  return resultRight.hitCount - resultLeft.hitCount;
                } else {
                  return resultRight.id - resultLeft.id;
                }
              });
              var searchResultList = '<ul class=\"search-result-list\">';
              resultItems.forEach(function (result) {
                searchResultList += result.item;
              })
              searchResultList += "</ul>";
              resultContent.innerHTML = searchResultList;
            }
          }

          if ('auto' === 'auto') {
            input.addEventListener('input', inputEventFunction);
          } else {
            $('.search-icon').click(inputEventFunction);
            input.addEventListener('keypress', function (event) {
              if (event.keyCode === 13) {
                inputEventFunction();
              }
            });
          }

          // remove loading animation
          $(".local-search-pop-overlay").remove();
          $('body').css('overflow', '');

          proceedsearch();
        }
      });
    }

    // handle and trigger popup window;
    $('.popup-trigger').click(function(e) {
      e.stopPropagation();
      if (isfetched === false) {
        searchFunc(path, 'local-search-input', 'local-search-result');
      } else {
        proceedsearch();
      };
    });

    $('.popup-btn-close').click(onPopupClose);
    $('.popup').click(function(e){
      e.stopPropagation();
    });
    $(document).on('keyup', function (event) {
      var shouldDismissSearchPopup = event.which === 27 &&
        $('.search-popup').is(':visible');
      if (shouldDismissSearchPopup) {
        onPopupClose();
      }
    });
  </script>





  

  

  

  

  

  

  

  

  

  

  

  

  

  

</body>
</html>
