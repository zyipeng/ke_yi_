<!DOCTYPE html>












  


<html class="theme-next pisces use-motion" lang="zh-CN">
<head><meta name="generator" content="Hexo 3.8.0">
  <meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
























<link rel="stylesheet" href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2">

<link rel="stylesheet" href="/css/main.css?v=7.1.1">


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=7.1.1">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=7.1.1">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=7.1.1">


  <link rel="mask-icon" href="/images/logo.svg?v=7.1.1" color="#222">







<script id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Pisces',
    version: '7.1.1',
    sidebar: {"position":"right","display":"post","offset":12,"onmobile":false,"dimmer":false},
    back2top: true,
    back2top_sidebar: true,
    fancybox: false,
    fastclick: false,
    lazyload: false,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>


  




  <meta property="og:type" content="website">
<meta property="og:title" content="KE_YI_">
<meta property="og:url" content="http://yoursite.com/page/7/index.html">
<meta property="og:site_name" content="KE_YI_">
<meta property="og:locale" content="zh-CN">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="KE_YI_">





  
  
  <link rel="canonical" href="http://yoursite.com/page/7/">



<script id="page.configurations">
  CONFIG.page = {
    sidebar: "",
  };
</script>

  <title>KE_YI_</title>
  












  <noscript>
  <style>
  .use-motion .motion-element,
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-title { opacity: initial; }

  .use-motion .logo,
  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-CN">

  
  
    
  

  <div class="container sidebar-position-right 
  page-home">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta">
    

    <div class="custom-logo-site-title">
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">KE_YI_</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
    
    
  </div>

  <div class="site-nav-toggle">
    <button aria-label="切换导航栏">
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>



<nav class="site-nav">
  
    <ul id="menu" class="menu">
      
        
        
        
          
          <li class="menu-item menu-item-home">

    
    
    
      
    

    

    <a href="/" rel="section"><i class="menu-item-icon fa fa-fw fa-home"></i> <br>首页</a>

  </li>
        
        
        
          
          <li class="menu-item menu-item-tags">

    
    
    
      
    

    

    <a href="/tags/" rel="section"><i class="menu-item-icon fa fa-fw fa-tags"></i> <br>标签</a>

  </li>
        
        
        
          
          <li class="menu-item menu-item-archives">

    
    
    
      
    

    

    <a href="/archives/" rel="section"><i class="menu-item-icon fa fa-fw fa-archive"></i> <br>归档</a>

  </li>
        
        
        
          
          <li class="menu-item menu-item-commonweal">

    
    
    
      
    

    

    <a href="/404.html" rel="section"><i class="menu-item-icon fa fa-fw fa-question-circle"></i> <br>公益 404</a>

  </li>

      
      
        <li class="menu-item menu-item-search">
          
            <a href="javascript:;" class="popup-trigger">
          
            
              <i class="menu-item-icon fa fa-search fa-fw"></i> <br>搜索</a>
        </li>
      
    </ul>
  

  

  
    <div class="site-search">
      
  <div class="popup search-popup local-search-popup">
  <div class="local-search-header clearfix">
    <span class="search-icon">
      <i class="fa fa-search"></i>
    </span>
    <span class="popup-btn-close">
      <i class="fa fa-times-circle"></i>
    </span>
    <div class="local-search-input-wrapper">
      <input autocomplete="off" placeholder="搜索..." spellcheck="false" type="text" id="local-search-input">
    </div>
  </div>
  <div id="local-search-result"></div>
</div>



    </div>
  
</nav>



  



</div>
    </header>

    


    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          
            

          
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/81293215/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="ke_yi_">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/ke_yi_head.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="KE_YI_">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                
                <a href="/81293215/" class="post-title-link" itemprop="url">Saruman`s Army(POJ 3069)</a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              

              
                
              

              <time title="创建时间：2019-05-16 14:30:08 / 修改时间：13:54:45" itemprop="dateCreated datePublished" datetime="2019-05-16T14:30:08+08:00">2019-05-16</time>
            

            
              

              
            
          </span>

          

          
            
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <div class="htmledit_views" id="content_views"><br>            <p>Saruman’s Army<br><br>Time Limit: 1000MS        Memory Limit: 65536K<br><br>Total Submissions: 13974        Accepted: 7011<br><br>Description</p><br><br><p>Saruman the White must lead his army along a straight path from Isengard to Helm’s Deep. To keep track of his forces, Saruman distributes seeing stones, known as palantirs, among the troops. Each palantir has a maximum effective range of R units, and must be carried by some troop in the army (i.e., palantirs are not allowed to “free float” in mid-air). Help Saruman take control of Middle Earth by determining the minimum number of palantirs needed for Saruman to ensure that each of his minions is within R units of some palantir.</p><br><br><p>Input</p><br><br><p>The input test file will contain multiple cases. Each test case begins with a single line containing an integer R, the maximum effective range of all palantirs (where 0 ≤ R ≤ 1000), and an integer n, the number of troops in Saruman’s army (where 1 ≤ n ≤ 1000). The next line contains n integers, indicating the positions x1, …, xn of each troop (where 0 ≤ xi ≤ 1000). The end-of-file is marked by a test case with R = n = −1.</p><br><br><p>Output</p><br><br><p>For each test case, print a single integer indicating the minimum number of palantirs needed.</p><br><br><p>Sample Input</p><br><br><p>0 3<br><br>10 20 20<br><br>10 7<br><br>70 30 1 7 15 20 50<br><br>-1 -1<br><br>Sample Output</p><br><br><p>2<br><br>4</p><br><br><p>将点从小到大排序，从左边开始选点，排除覆盖的点，再从新开始选点。</p><br><br><pre class="has"><br><code class="language-cpp">#include&lt;iostream&gt;<br>#include&lt;algorithm&gt;<br>using namespace std;<br>int main()<br>{<br>    int r,n,d=0;<br>    int data[1010];<br>    while(cin&gt;&gt;r&gt;&gt;n&amp;&amp;(r!=-1||n!=-1))<br>    {<br>        d++;<br>        for(int i=0;i&lt;n;i++)<br>            cin&gt;&gt;data[i];<br>        sort(data,data+n);<br>        int i=0;<br>        int a=data[0];<br>        int b=data[n-1];<br>        int total=0;<br>        while(i&lt;n&amp;&amp;a&lt;=b)<br>        {<br>            while(i&lt;n&amp;&amp;data[i]&lt;=a+r)i++;<br>            a=data[i-1];<br>            while(i&lt;n&amp;&amp;data[i]&lt;=a+r)i++;<br>            total++;<br>            if(i&lt;n)a=data[i];<br>        }<br>        cout&lt;&lt;total&lt;&lt;endl;<br>    }<br>    return 0;<br>}<br></code></pre><br><br><p> </p>          </div>

          
        
      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/81292522/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="ke_yi_">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/ke_yi_head.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="KE_YI_">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                
                <a href="/81292522/" class="post-title-link" itemprop="url">字典序最小问题 Best Cow Line (POJ 3617)</a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              

              
                
              

              <time title="创建时间：2019-05-16 14:30:08 / 修改时间：13:54:46" itemprop="dateCreated datePublished" datetime="2019-05-16T14:30:08+08:00">2019-05-16</time>
            

            
              

              
            
          </span>

          

          
            
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <div class="htmledit_views" id="content_views"><br>            <p>Best Cow Line<br><br>Time Limit: 1000MS        Memory Limit: 65536K<br><br>Total Submissions: 32184        Accepted: 8533<br><br>Description</p><br><br><p>FJ is about to take his N (1 ≤ N ≤ 2,000) cows to the annual”Farmer of the Year” competition. In this contest every farmer arranges his cows in a line and herds them past the judges.</p><br><br><p>The contest organizers adopted a new registration scheme this year: simply register the initial letter of every cow in the order they will appear (i.e., If FJ takes Bessie, Sylvia, and Dora in that order he just registers BSD). After the registration phase ends, every group is judged in increasing lexicographic order according to the string of the initials of the cows’ names.</p><br><br><p>FJ is very busy this year and has to hurry back to his farm, so he wants to be judged as early as possible. He decides to rearrange his cows, who have already lined up, before registering them.</p><br><br><p>FJ marks a location for a new line of the competing cows. He then proceeds to marshal the cows from the old line to the new one by repeatedly sending either the first or last cow in the (remainder of the) original line to the end of the new line. When he’s finished, FJ takes his cows for registration in this new order.</p><br><br><p>Given the initial order of his cows, determine the least lexicographic string of initials he can make this way.</p><br><br><p>Input</p><br><br><p><em> Line 1: A single integer: N<br>
</em> Lines 2..N+1: Line i+1 contains a single initial (‘A’..’Z’) of the cow in the ith position in the original line</p><br><br><p>Output</p><br><br><p>The least lexicographic string he can make. Every line (except perhaps the last one) contains the initials of 80 cows (‘A’..’Z’) in the new line.</p><br><br><p>Sample Input</p><br><br><p>6<br><br>A<br><br>C<br><br>D<br><br>B<br><br>C<br><br>B</p><br><br><p>先对第一个字母和最后一个字母进行比较，取较小的那个，如果相等对顺序序列和逆序序列进行比较，取小的那头。</p><br><br><pre class="has"><br><code class="language-cpp">#include&lt;iostream&gt;<br>#include&lt;algorithm&gt;<br>#include&lt;cstdlib&gt;<br>#include&lt;cstdio&gt;<br>using namespace std;<br>int main()<br>{<br>    char cow[2010],ne[2010];<br>    int n;<br>    scanf(“%d”,&amp;n);<br>    getchar();<br>    for(int i=0;i&lt;n;i++){<br>        scanf(“%c”,&amp;cow[i]);<br>        getchar();<br>    }<br>    int a=0,b=n-1,j=0;<br>    while(a&lt;=b)<br>    {<br>        bool cmp=false;<br>        for(int i=0;a+i&lt;=b;i++)<br>        {<br>            if(cow[a+i]&lt;cow[b-i])<br>            {<br>                cmp=false;<br>                break;<br>            }<br>            else if(cow[a+i]&gt;cow[b-i])<br>            {<br>                cmp=true;<br>                break;<br>            }<br>        }<br>        if(cmp)<br>        {<br>            ne[j++]=cow[b–];<br>        }<br>        else<br>        {<br>            ne[j++]=cow[a++];<br>        }<br>    }<br>    for(int i=0;i&lt;n;i++){<br>        printf(“%c”,ne[i]);<br>        if((i+1)%80==0&amp;&amp;i&lt;n-1)<br>            printf(“\n”);<br>    }<br>}<br></code></pre><br><br><p> </p>          </div>

          
        
      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/81241132/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="ke_yi_">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/ke_yi_head.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="KE_YI_">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                
                <a href="/81241132/" class="post-title-link" itemprop="url">RMQ</a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              

              
                
              

              <time title="创建时间：2019-05-16 14:30:08 / 修改时间：13:54:47" itemprop="dateCreated datePublished" datetime="2019-05-16T14:30:08+08:00">2019-05-16</time>
            

            
              

              
            
          </span>

          

          
            
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <div class="htmledit_views" id="content_views"><br>            <p>RMQ（Range Minimum/Maximum Query），即区间最值查询，是指这样一个问题：对于长度为n的数列A，回答若干次询问RMQ(i,j)，返回数列A中下标在区间[i,j]中的最小/大值。</p><br><br><p>本文介绍一种比较高效的ST算法解决这个问题。ST（Sparse Table）算法可以在O(nlogn)时间内进行预处理，然后在O(1)时间内回答每个查询。</p><br><br><p> </p><br><br><p> </p><br><br><p><strong>1）预处理</strong></p><br><br><p>设A[i]是要求区间最值的数列，F[i, j]表示从第i个数起连续2^j个数中的最大值。（DP的状态）</p><br><br><p>例如：</p><br><br><p>A数列为：3 2 4 5 6 8 1 2 9 7</p><br><br><p>F[1，0]表示第1个数起，长度为2^0=1的最大值，其实就是3这个数。同理 F[1,1] = max(3,2) = 3, F[1，2]=max(3,2,4,5) = 5，F[1，3] = max(3,2,4,5,6,8,1,2) = 8;</p><br><br><p>并且我们可以容易的看出F[i,0]就等于A[i]。（DP的初始值）</p><br><br><p> </p><br><br><p>我们把F[i，j]平均分成两段（因为F[i，j]一定是偶数个数字），从 i 到i + 2 ^ (j - 1) - 1为一段，i + 2 ^ (j - 1)到i + 2 ^ j - 1为一段(长度都为2 ^ (j - 1))。于是我们得到了状态转移方程F[i, j]=max（F[i，j-1], F[i + 2^(j-1)，j-1]）。</p><br><br><p> </p><br><br><p><strong>2)查询</strong></p><br><br><p>假如我们需要查询的区间为(i,j)，那么我们需要找到覆盖这个闭区间(左边界取i，右边界取j)的最小幂（可以重复，比如查询1，2，3，4，5，我们可以查询1234和2345）。</p><br><br><p>因为这个区间的长度为j - i + 1,所以我们可以取k=log2( j - i + 1)，则有：RMQ(i, j)=max{F[i , k], F[ j - 2 ^ k + 1, k]}。</p><br><br><p>举例说明，要求区间[1，5]的最大值，k = log2（5 - 1 + 1）= 2，即求max(F[1, 2]，F[5 - 2 ^ 2 + 1, 2])=max(F[1, 2]，F[2, 2])；</p><br><br><pre class="has"><br><code class="language-cpp">void ST(int n) {<br>    for (int i = 1; i &lt;= n; i++)<br>        dp[i][0] = A[i];<br>    for (int j = 1; (1 &lt;&lt; j) &lt;= n; j++) {<br>        for (int i = 1; i + (1 &lt;&lt; j) - 1 &lt;= n; i++) {<br>            dp[i][j] = max(dp[i][j - 1], dp[i + (1 &lt;&lt; (j - 1))][j - 1]);<br>        }<br>    }<br>}<br>int RMQ(int l, int r) {<br>    int k = 0;<br>    while ((1 &lt;&lt; (k + 1)) &lt;= r - l + 1) k++;<br>    return max(dp[l][k], dp[r - (1 &lt;&lt; k) + 1][k]);<br>}<br></code></pre><br><br><p>转载博客：<a href="https://blog.csdn.net/qq_31759205/article/details/75008659" target="_blank" rel="noopener">https://blog.csdn.net/qq_31759205/article/details/75008659</a></p>          </div>

          
        
      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/81238384/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="ke_yi_">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/ke_yi_head.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="KE_YI_">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                
                <a href="/81238384/" class="post-title-link" itemprop="url">牛客2018年第二次acm暑期培训----H-Diff-prime Pairs</a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              

              
                
              

              <time title="创建时间：2019-05-16 14:30:08 / 修改时间：13:54:48" itemprop="dateCreated datePublished" datetime="2019-05-16T14:30:08+08:00">2019-05-16</time>
            

            
              

              
            
          </span>

          

          
            
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <div class="htmledit_views" id="content_views"><br>            <p> 题目描述：</p><br><br><p>链接：<a href="https://www.nowcoder.com/acm/contest/141/H" rel="noopener" target="_blank">https://www.nowcoder.com/acm/contest/141/H</a><br><br>来源：牛客网<br><br> </p><br><br><p>时间限制：C/C++ 1秒，其他语言2秒<br><br>空间限制：C/C++ 262144K，其他语言524288K<br><br>64bit IO Format: %lld</p><br><br><h2>题目描述</h2><br><br><p>Eddy has solved lots of problem involving calculating the number of coprime pairs within some range. This problem can be solved with inclusion-exclusion method. Eddy has implemented it lots of times. Someday, when he encounters another coprime pairs problem, he comes up with diff-prime pairs problem. diff-prime pairs problem is that given N, you need to find the number of pairs (i, j), where <img alt class="has" src="https://uploadfiles.nowcoder.com/files/20180717/305345_1531803986831_equation?tex=%5Cfrac%7Bi%7D%7Bgcd(i%2C%20j)%7D"> and <img alt class="has" src="https://uploadfiles.nowcoder.com/files/20180717/305345_1531803986872_equation?tex=%5Cfrac%7Bj%7D%7Bgcd(i%2Cj)%7D"> are both prime and i ,j ≤ N. gcd(i, j) is the greatest common divisor of i and j. Prime is an integer greater than 1 and has only 2 positive divisors.<br><br><br>Eddy tried to solve it with inclusion-exclusion method but failed. Please help Eddy to solve this problem.<br><br><br>Note that pair (i1, j1) and pair (i2, j2) are considered different if i1 ≠ i2 or j1 ≠ j2.</p><br><br><h2>输入描述:</h2><br><br><pre><br><code class="language-html hljs">Input has only one line containing a positive integer N.<br><br>1 ≤ N ≤ 107</code></pre><br><br><h2>输出描述:</h2><br><br><pre><br><code class="language-html hljs">Output one line containing a non-negative integer indicating the number of diff-prime pairs (i,j) where i, j ≤ N</code></pre><br><br><p> </p><br><br><p>示例1</p><br><br><h2>输入</h2><br><br><pre><br><code class="language-html hljs">3</code></pre><br><br><h2>输出</h2><br><br><pre><br><code class="language-html hljs">2</code></pre><br><br><p>示例2</p><br><br><h2>输入</h2><br><br><pre><br><code class="language-html hljs">5</code></pre><br><br><h2>输出</h2><br><br><pre><br><code class="language-html hljs">6</code></pre><br><br><pre class="has"><br><code class="language-cpp">#include&lt;iostream&gt;<br>#include&lt;cstring&gt;<br>#define ll long long<br>using namespace std;<br>const int MAXSIZE=1e7+10;<br>int Mark[MAXSIZE&lt;&lt;2];<br>int prime[MAXSIZE];<br><br>ll sum(ll n){<br>    if(n%2==0)return (n+1)<em>(n&gt;&gt;1);<br>    else return ((n+1)&gt;&gt;1)</em>n;<br>}<br>int  Prime(int n){<br>    int index = 0;<br>    memset(Mark,0,sizeof(Mark));<br>    for(int i = 2; i &lt;= n; i++)<br>    {<br>        if(Mark[i] == 0){<br>            prime[index++] = i;<br>        }<br>        for(int j = 0; j &lt; index &amp;&amp; prime[j] <em> i &lt;= n; j++)<br>        {<br>            Mark[i </em> prime[j]] = 1;<br>            if(i % prime[j] == 0){<br>                break;<br>            }<br>        }<br>    }<br>    return index;<br>}<br>int main(){<br>    int n,total,i=2;<br>    ll s=0;<br>    ios::sync_with_stdio(false);<br>    cin&gt;&gt;n;<br>    total=Prime(n);<br>    s+=sum((ll)total-1)<em>2;<br>    while(total&gt;=2){<br>        if(prime[total-1]</em>i&lt;=n){<br>            s+=sum((ll)total-1)*2;<br>            i++;<br>        }<br>        else<br>            total–;<br>    }<br>    cout&lt;&lt;s&lt;&lt;endl;<br>    return 0;<br>}</code></pre><br><br><p> </p>          </div>

          
        
      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/81238293/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="ke_yi_">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/ke_yi_head.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="KE_YI_">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                
                <a href="/81238293/" class="post-title-link" itemprop="url">牛客2018年第二次多校培训----A-run</a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              

              
                
              

              <time title="创建时间：2019-05-16 14:30:08 / 修改时间：13:54:49" itemprop="dateCreated datePublished" datetime="2019-05-16T14:30:08+08:00">2019-05-16</time>
            

            
              

              
            
          </span>

          

          
            
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <div class="htmledit_views" id="content_views"><br>            <p>题目描述：</p><br><br><p>链接：<a href="https://www.nowcoder.com/acm/contest/140/A" rel="noopener" target="_blank">https://www.nowcoder.com/acm/contest/140/A</a><br><br>来源：牛客网</p><br><br><p>时间限制：C/C++ 1秒，其他语言2秒<br><br>空间限制：C/C++ 131072K，其他语言262144K<br><br>64bit IO Format: %lld</p><br><br><h2>题目描述</h2><br><br><p>White Cloud is exercising in the playground.<br><br>White Cloud can walk 1 meters or run k meters per second.<br><br>Since White Cloud is tired,it can’t run for two or more continuous seconds.<br><br>White Cloud will move L to R meters. It wants to know how many different ways there are to achieve its goal.<br><br>Two ways are different if and only if they move different meters or spend different seconds or in one second, one of them walks and the other runs.</p><br><br><h2>输入描述:</h2><br><br><pre><br><code class="language-html hljs">The first line of input contains 2 integers Q and k.Q is the number of queries.(Q&lt;=100000,2&lt;=k&lt;=100000)<br>For the next Q lines,each line contains two integers L and R.(1&lt;=L&lt;=R&lt;=100000)</code></pre><br><br><h2>输出描述:</h2><br><br><pre><br><code class="language-html hljs">For each query,print a line which contains an integer,denoting the answer of the query modulo 1000000007.</code></pre><br><br><p> </p><br><br><p>示例1</p><br><br><h2>输入</h2><br><br><pre><br><code class="language-html hljs">3 3<br>3 3<br>1 4<br>1 5</code></pre><br><br><h2>输出</h2><br><br><pre><br><code class="language-html hljs">2<br>7<br>11</code></pre><br><br><pre class="has"><br><code class="language-cpp">#include &lt;iostream&gt;<br>#include &lt;stdio.h&gt;<br>#define MOD 1000000007<br>using namespace std;<br>int main()<br>{<br>    long long a[100005],b[100005];<br>    int q,k,l,r;<br>    cin&gt;&gt;q&gt;&gt;k;<br>    b[0]=0;<br>    for(int i=1;i&lt;k;i++)<br>    {<br>        a[i]=1;<br>        b[i]=b[i-1]+a[i];<br>    }<br>    a[k]=2;b[k]=b[k-1]+a[k];<br>    a[k+1]=3;b[k+1]=b[k]+a[k+1];<br>    for(int i=k+2;i&lt;100005;i++)<br>    {<br>        a[i]=(a[i-1]+a[i-k-1])%MOD;<br>        b[i]=(b[i-1]+a[i])%MOD;<br>    }<br>    for(int i=0;i&lt;q;i++)<br>    {<br>        cin&gt;&gt;l&gt;&gt;r;<br>        printf(“%lld\n”,(MOD+b[r]-b[l-1])%MOD);<br>    }<br>    return 0;<br>}</code></pre><br><br><p> </p>          </div>

          
        
      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/81232855/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="ke_yi_">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/ke_yi_head.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="KE_YI_">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                
                <a href="/81232855/" class="post-title-link" itemprop="url">动态规划（dp)----hdu1024 Max Sum Plus Plus</a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              

              
                
              

              <time title="创建时间：2019-05-16 14:30:08 / 修改时间：13:54:50" itemprop="dateCreated datePublished" datetime="2019-05-16T14:30:08+08:00">2019-05-16</time>
            

            
              

              
            
          </span>

          

          
            
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <div class="htmledit_views" id="content_views"><br>            <p>题目描述：</p><br><br><h1><span style="color:#1a5cc8;">Max Sum Plus Plus</span></h1><br><br><p><strong><strong><span style="color:#008000;">Time Limit: 2000/1000 MS (Java/Others)    Memory Limit: 65536/32768 K (Java/Others)<br><br>Total Submission(s): 36429    Accepted Submission(s): 12963</span></strong></strong></p><br><br><p><span style="color:#7ca9ed;"><strong>Problem Description</strong></span></p><br><br><p><span style="color:#000000;">Now I think you have got an AC in Ignatius.L’s “Max Sum” problem. To be a brave ACMer, we always challenge ourselves to more difficult problems. Now you are faced with a more difficult problem.<br><br><br>Given a consecutive number sequence S<em>1</em>, S<em>2</em>, S<em>3</em>, S<em>4</em> … S<em>x</em>, … S<em>n</em> (1 ≤ x ≤ n ≤ 1,000,000, -32768 ≤ S<em>x</em> ≤ 32767). We define a function sum(i, j) = S<em>i</em> + … + S<em>j</em> (1 ≤ i ≤ j ≤ n).<br><br><br>Now given an integer m (m &gt; 0), your task is to find m pairs of i and j which make sum(i<em>1</em>, j<em>1</em>) + sum(i<em>2</em>, j<em>2</em>) + sum(i<em>3</em>, j<em>3</em>) + … + sum(i<em>m</em>, j<em>m</em>) maximal (i<em>x</em> ≤ i<em>y</em> ≤ j<em>x</em> or i<em>x</em> ≤ j<em>y</em> ≤ j<em>x</em> is not allowed).<br><br><br>But I`m lazy, I don’t want to write a special-judge module, so you don’t have to output m pairs of i and j, just output the maximal summation of sum(i<em>x</em>, j<em>x</em>)(1 ≤ x ≤ m) instead. ^_^</span></p><br><br><p><span style="color:#7ca9ed;"><strong>Input</strong></span></p><br><br><p><span style="color:#000000;">Each test case will begin with two integers m and n, followed by n integers S<em>1</em>, S<em>2</em>, S<em>3</em> … S<em>n</em>.<br><br>Process to the end of file.</span></p><br><br><p><span style="color:#7ca9ed;"><strong>Output</strong></span></p><br><br><p><span style="color:#000000;">Output the maximal summation described above in one line.</span></p><br><br><p><span style="color:#7ca9ed;"><strong>Sample Input</strong></span></p><br><br><p><span style="color:#000000;">1 3 1 2 3<br><br>2 6 -1 4 -2 3 -2 3</span></p><br><br><p><span style="color:#7ca9ed;"><strong>Sample Output</strong></span></p><br><br><p><span style="color:#000000;">6<br><br>8</span></p><br><br><p>题目大意：先输入两个数m,n，n表示接下来输入一个含有n个元素的序列，m表示在序列中，找到m个连续子段，相互不相交不包含。输出m个子段和最大的子段的和。</p><br><br><p>题目分析：dp解决就是将问题缩小，求n个元素的序列中m个子段，可以通过一种方式将问题转换为求m-1个子段，或者求n-1个元素的子段中m个子段。就会得到求n序列m子段就是求n-1序列中m-1子段与n-1序列总m子段的最大值，前者表示将在n-1序列中找到m-1子段的最大值再加上最后一个元素单独成一段就是n个元素中m个子段，后者表示在n-1序列中m个子段的最后一个段中加上第n个元素。两者加起来就是n序列m子段的全部情况了。</p><br><br><p>实现：用一个二维数组进行模拟，i行表示分成i段，j列表示j个元素的序列。dp[i][j]表示包含第j个元素在内的j个元素序列分成i段的子段和。<img alt class="has" height="80" src="https://img-blog.csdn.net/2018072711064125?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2tlX3lpXw==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" width="298"></p><br><br><p><img alt class="has" height="395" src="https://img-blog.csdn.net/20180727105621667?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2tlX3lpXw==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" width="397"> <img alt class="has" height="364" src="https://img-blog.csdn.net/20180727105656773?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2tlX3lpXw==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" width="360"></p><br><br><p><img alt class="has" height="391" src="https://img-blog.csdn.net/20180727110322788?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2tlX3lpXw==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" width="387"><img alt class="has" height="369" src="https://img-blog.csdn.net/20180727110448939?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2tlX3lpXw==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" width="396"></p><br><br><p> 假设我们要球的序列m=4，那么我们要求的就是左下图最下面那一行的最大值，然后我们删除没有用的元素得到右下图。</p><br><br><p><img alt class="has" height="356" src="https://img-blog.csdn.net/2018072711085176?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2tlX3lpXw==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" width="360"> <img alt class="has" height="355" src="https://img-blog.csdn.net/20180727111008418?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2tlX3lpXw==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" width="359"></p><br><br><p> 其实我们要求的元素就只有中间类似的几条对角线中的元素。并且求每行元素都只与其前面那行元素有联系，因此我们要保存的元素就只有两行。</p><br><br><p><img alt class="has" height="111" src="https://img-blog.csdn.net/20180727111427112?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2tlX3lpXw==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" width="347"></p><br><br><p>然后我们再通过t=1-t的变化滚动数组得到第一行，然后得到第二行… …直到得到第m行。</p><br><br><p><img alt class="has" height="109" src="https://img-blog.csdn.net/20180727111549933?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2tlX3lpXw==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" width="350"><img alt class="has" height="106" src="https://img-blog.csdn.net/20180727111707732?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2tlX3lpXw==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" width="340"></p><br><br><p> 再计算过程中由于只要得到中间几个元素，因此要确定每一次计算的右边界。如下图得到第i行的边界n-m-i：</p><br><br><p><img alt class="has" height="278" src="https://img-blog.csdn.net/20180727112305742?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2tlX3lpXw==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" width="676"></p><br><br><p>代码如下：</p><br><br><pre class="has"><br><code class="language-cpp">#include&lt;iostream&gt;<br>#include&lt;cstring&gt;<br>using namespace std;<br>const int MAXN=1e6+10;<br>int dp[2][MAXN],d[MAXN];<br>int Max(int x,int y){return x&gt;y?x:y;}<br>int main(){<br>    ios::sync_with_stdio(false);<br>    int i,j,m,n,maxn,re,t=1;<br>    while(cin&gt;&gt;m&gt;&gt;n){<br>        dp[0][0]=dp[1][0]=d[0]=0;//初始化<br>        for(i=1;i&lt;=n;i++){<br>            dp[0][i]=dp[1][i]=0;//初始化<br>            cin&gt;&gt;d[i];<br>        }<br>        for(i=1;i&lt;=m;i++){//左界<br>            dp[t][i]=dp[1-t][i-1]+d[i];<br>            maxn=dp[1-t][i-1];<br>            for(j=i+1;j&lt;=n-m+i;j++){//右界<br>                maxn=Max(maxn,dp[1-t][j-1]);//得到上一行j之前的最大值<br>                dp[t][j]=Max(maxn,dp[t][j-1])+d[j];<br>            }<br>            t=1-t;//滚动<br>        }<br>        t=1-t;<br>        for(i=m+1,re=dp[t][m];i&lt;=n;i++)<br>            re=Max(re,dp[t][i]);<br>        cout&lt;&lt;re&lt;&lt;endl;<br>    }<br>    return 0;<br>}<br></code></pre><br><br><p> </p>          </div>

          
        
      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/81217739/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="ke_yi_">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/ke_yi_head.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="KE_YI_">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                
                <a href="/81217739/" class="post-title-link" itemprop="url">贪心算法----nyoj 14 会场安排</a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              

              
                
              

              <time title="创建时间：2019-05-16 14:30:08 / 修改时间：13:54:51" itemprop="dateCreated datePublished" datetime="2019-05-16T14:30:08+08:00">2019-05-16</time>
            

            
              

              
            
          </span>

          

          
            
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <div class="htmledit_views" id="content_views"><br>            <p>题目详情：</p><br><br><h2>会场安排问题</h2><br><br><p>时间限制：3000 ms  |  内存限制：65535 KB</p><br><br><p>描述</p><br><br><p>学校的小礼堂每天都会有许多活动，有时间这些活动的计划时间会发生冲突，需要选择出一些活动进行举办。小刘的工作就是安排学校小礼堂的活动，每个时间最多安排一个活动。现在小刘有一些活动计划的时间表，他想尽可能的安排更多的活动，请问他该如何安排。</p><br><br><p>输入</p><br><br><p>第一行是一个整型数m(m&lt;100)表示共有m组测试数据。<br><br>每组测试数据的第一行是一个整数n(1&lt;n&lt;10000)表示该测试数据共有n个活动。<br><br>随后的n行，每行有两个正整数Bi,Ei(0&lt;=Bi,Ei&lt;10000),分别表示第i个活动的起始与结束时间（Bi&lt;=Ei)</p><br><br><p>输出</p><br><br><p>对于每一组输入，输出最多能够安排的活动数量。<br><br>每组的输出占一行</p><br><br><p>样例输入</p><br><br><pre id="sample_input"><br><code class="language-html hljs">2<br>2<br>1 10<br>10 11<br>3<br>1 10<br>10 11<br>11 20<br></code></pre><br><br><p>样例输出</p><br><br><pre id="sample_output"><br><code class="language-html hljs">1<br>2</code></pre><br><br><p>解题思路：先将数据进行排序，根据时间段的结束时间从小到大安排，然后根据开始时间从大到小安排，最后从序列中找到第一个时间段，再将一天的开始时间设置为前面那段时间的结束时间，再找下面的时间段，知道所有的时间段都找完。</p><br><br><pre class="has"><br><code class="language-cpp">#include&lt;iostream&gt;<br>#include&lt;algorithm&gt;<br>#include&lt;vector&gt;<br>using namespace std;<br>const int MAXN=1e4+10;<br>struct Time<br>{<br>    int b,e;<br>};<br>bool operator&lt;(Time a,Time b){<br>    if(a.e==b.e)<br>        return a.b&gt;=b.b;<br>    return a.e&lt;b.e;<br>}<br>int main()<br>{<br>    ios::sync_with_stdio(false);//关闭同步，节约时间<br>    int m,n,i,count,first;<br>    cin&gt;&gt;m;<br>    while(m–){<br>        cin&gt;&gt;n;<br>        vector&lt;Time&gt; t(n);<br>        for(i=0;i&lt;n;i++){<br>            cin&gt;&gt;t[i].b&gt;&gt;t[i].e;<br>        }<br>        sort(t.begin(),t.end());<br>        first=-1;i=0;count=0;<br>        while(i&lt;n){<br>            if(t[i].b&gt;first){<br>                count++;<br>                first=t[i].e;<br>            }<br>            i++;<br>        }<br>        cout&lt;&lt;count&lt;&lt;endl;<br>    }<br>    return 0;<br>}<br></code></pre><br><br><p> </p>          </div>

          
        
      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/81193439/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="ke_yi_">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/ke_yi_head.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="KE_YI_">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                
                <a href="/81193439/" class="post-title-link" itemprop="url">树状数组解决区间更新单点查询----hdu 1556 Color the ball</a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              

              
                
              

              <time title="创建时间：2019-05-16 14:30:08 / 修改时间：13:54:53" itemprop="dateCreated datePublished" datetime="2019-05-16T14:30:08+08:00">2019-05-16</time>
            

            
              

              
            
          </span>

          

          
            
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <div class="htmledit_views" id="content_views"><br>            <p>题目详情： </p><br><br><h1><span style="color:#1a5cc8;">Color the ball</span></h1><br><br><p><strong><strong><span style="color:#008000;">Time Limit: 9000/3000 MS (Java/Others)    Memory Limit: 32768/32768 K (Java/Others)<br><br>Total Submission(s): 26931    Accepted Submission(s): 13049</span></strong></strong></p><br><br><p><span style="color:#7ca9ed;"><strong>Problem Description</strong></span></p><br><br><p><span style="color:#000000;">N个气球排成一排，从左到右依次编号为1,2,3….N.每次给定2个整数a b(a &lt;= b),lele便为骑上他的“小飞鸽”牌电动车从气球a开始到气球b依次给每个气球涂一次颜色。但是N次以后lele已经忘记了第I个气球已经涂过几次颜色了，你能帮他算出每个气球被涂过几次颜色吗？</span></p><br><br><p><span style="color:#7ca9ed;"><strong>Input</strong></span></p><br><br><p><span style="color:#000000;">每个测试实例第一行为一个整数N,(N &lt;= 100000).接下来的N行，每行包括2个整数a b(1 &lt;= a &lt;= b &lt;= N)。<br><br>当N = 0，输入结束。</span></p><br><br><p><span style="color:#7ca9ed;"><strong>Output</strong></span></p><br><br><p><span style="color:#000000;">每个测试实例输出一行，包括N个整数，第I个数代表第I个气球总共被涂色的次数。</span></p><br><br><p><span style="color:#7ca9ed;"><strong>Sample Input</strong></span></p><br><br><p><span style="color:#000000;">3<br><br>1 1<br><br>2 2<br><br>3 3<br><br>3<br><br>1 1<br><br>1 2<br><br>1 3<br><br>0</span></p><br><br><p><span style="color:#7ca9ed;"><strong>Sample Output</strong></span></p><br><br><p><span style="color:#000000;">1 1 1<br><br>3 2 1</span> </p><br><br><p>题目分析：其实这个题目根本不需要用到树状数组，完全可以用简单的技巧解出来。代码如下：</p><br><br><p> </p><br><br><pre class="has"><br><code class="language-cpp">#include “stdio.h”<br>int main()<br>{<br>    int n,i,l,s,r;<br>    while(scanf(“%d”,&amp;n),n)<br>    {<br>        int c[100001]={0};<br>        i=n;<br>        s=0;<br>        while(i–)<br>        {<br>            scanf(“%d %d”,&amp;l,&amp;r);<br>            c[l]++;<br>            c[r+1]–;<br>        }<br>        for(i=1;i&lt;n;i++)<br>        {<br>            s+=c[i];<br>            printf(“%d “,s);<br>        }<br>        printf(“%d\n”,s+c[n]);<br>    }<br>    return 0;<br>}<br></code></pre><br><br><p>虽然能这样解，但是下次遇到不是查询所有点而是查询，更新一次查询一次，并且查询不是连续的就不能直接这样了。树状数组是这样的，因为我们要求的是每一个点的和所以只要将更新区间的c[l]加上增量然后c[r+1]减去增量就可以了。如下图</p><br><br><p><img alt class="has" height="273" src="https://img-blog.csdn.net/20180725101338392?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2tlX3lpXw==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" width="922"></p><br><br><p> 为什么会有这样的效果呢，每一次更新都会将后面+=lowbit（）的下标更新,c[i]+add后面相应的位置都会+add，然后再c[j]-add,后面的相应位置都会-add。</p><br><br><p>下面是树状数组的代码：</p><br><br><pre class="has"><br><code class="language-cpp">#include&lt;cstdio&gt;<br>#include&lt;cstring&gt;<br>using namespace std;<br>const int MAXN=1e5+10;<br>int s[MAXN];<br>int n;<br>int lowbit(int x){return x&amp;(-x);}<br>int sum(int x){<br>    int sum=0;<br>    while(x){<br>        sum+=s[x];<br>        x-=lowbit(x);<br>    }<br>    return sum;<br>}<br>void add(int x){<br>    while(x&lt;=MAXN){<br>        s[x]++;<br>        x+=lowbit(x);<br>    }<br>}<br>void sub(int x){<br>    while(x&lt;=MAXN){<br>        s[x]–;<br>        x+=lowbit(x);<br>    }<br>}<br>int main(){<br>    int a,b;<br>    while(~scanf(“%d”,&amp;n)&amp;&amp;n!=0){<br>        memset(s,0,sizeof(s));<br>        for(int i=1;i&lt;=n;i++){<br>            scanf(“%d%d”,&amp;a,&amp;b);<br>            add(a);//在做端点加<br>            sub(b+1);//在有端点后面一个位置减<br>        }<br>        for(int i=1;i&lt;=n;i++){<br>            printf(“%d”,sum(i));<br>            if(i!=n)printf(“ “);<br>        }<br>        printf(“\n”);<br>    }<br>    return 0;<br>}<br></code></pre><br><br><p> </p>          </div>

          
        
      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/81192903/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="ke_yi_">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/ke_yi_head.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="KE_YI_">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                
                <a href="/81192903/" class="post-title-link" itemprop="url">codeblocks调试问题--单步调试遇到breakpoint不停---不能单步调试--运行按钮是灰色但是没有dos窗口</a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              

              
                
              

              <time title="创建时间：2019-05-16 14:30:08 / 修改时间：13:54:54" itemprop="dateCreated datePublished" datetime="2019-05-16T14:30:08+08:00">2019-05-16</time>
            

            
              

              
            
          </span>

          

          
            
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <div class="htmledit_views" id="content_views"><br>            <p>今天晚上调试的时候可能不小心改了设置，还是其它原因，codeblocks突然遇到breakpoint不停了，然后百度了一下，大部分是说project创建的问题，感觉和自己的问题不同，我的问题是所有的project都不能单步调试。然后在seting-&gt;debug设置中找了一会都没有找到相应的设置，然后我就到debug中找到了debug-&gt;active debuggers-&gt;gdb/cdb debugger:default,勾选之后发现可以调试了，然后决定用博客记录下来，希望能给遇到相似的问题的同学也能得到帮助。</p><br><br><p><img alt class="has" height="258" src="https://img-blog.csdn.net/20180724213613828?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2tlX3lpXw==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" width="509"></p><br><br><p>以前刚用codeblocks编写程序的时候发现也不能但不单步调试，单步调试的时候提示下面一样的信息，其实下面的信息就是解决方法，下面大概意思就是没有但不调试的软件。 </p><br><br><p> <img alt class="has" height="154" src="https://img-blog.csdn.net/20180724214645342?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2tlX3lpXw==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" width="571"></p><br><br><p> 点开setting-&gt;debugger</p><br><br><p> <img alt class="has" height="296" src="https://img-blog.csdn.net/20180724214849212?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2tlX3lpXw==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" width="344"></p><br><br><p> <img alt class="has" height="297" src="https://img-blog.csdn.net/20180724215006382?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2tlX3lpXw==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" width="669"></p><br><br><p> 上面的红色框中就是你要选择调试器的路径，点开选择路径，如果codeblocks软件是安装在C:\Program Files (x86)下面的话就是下面图片中所示的路径了，然后选择gdb32.exe，点击ok保存就可以调试了。（对了，还要选择上图中的GDB选项）</p><br><br><p> <img alt class="has" height="294" src="https://img-blog.csdn.net/20180724215122687?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2tlX3lpXw==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" width="406"></p><br><br><p> 有时候调试器出错了，虽然你看不到程序的运行窗口，但是程序其实是在运行的。并且你是不可以再点击运行按钮运行程序的，这个时候就可以打开任务管理器，关闭相应的任务了，一般关闭想下图所示的那样的图标一样的任务就可以了。</p><br><br><p><img alt class="has" height="136" src="https://img-blog.csdn.net/20180724214539638?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2tlX3lpXw==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" width="478"> </p>          </div>

          
        
      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/81173757/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="ke_yi_">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/ke_yi_head.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="KE_YI_">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                
                <a href="/81173757/" class="post-title-link" itemprop="url">线段树 || 树状数组解决区间更新区间查询问题----poj 3468  百练 3439 A Simple Problem with Integers</a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              

              
                
              

              <time title="创建时间：2019-05-16 14:30:08 / 修改时间：13:54:52" itemprop="dateCreated datePublished" datetime="2019-05-16T14:30:08+08:00">2019-05-16</time>
            

            
              

              
            
          </span>

          

          
            
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <div class="htmledit_views" id="content_views"><br>            <p>树状数组实现区间更新区间查询：<br><br>要实现区间更新区间查询操作必须像这篇<a href="https://blog.csdn.net/ke_yi_/article/details/81193439" rel="noopener" target="_blank">文章</a>里面一样，引入一个数组a[]，区间加就只要在这个数组区间左加增量，区间右后一个位置减增量。下面公式org[]表示变化之前的数据。<br><br>sum(x) = org[1] +… …+ org[x] + (a[1]) + (a[1]+a[2]) + … …+ (a[1]+… …a[x])<br><br>            = org[1] +… …+ org[x] + x<em>(a[1]) + (x-1)</em>a[2] + … … + a[x]<br><br>            = org[1] +… …+ org[x] + (x+1)<em>( a[1] +… …+a[x] ) - ( a[1] + 2</em>a[2] +… …+ x<em>a[x] )<br><br>这其实就是三个数组org[i], a[i]和a[i]</em>i的前缀和，org[i]的前缀和保持不变，事先就可以求出来，a[i]和<br><br>a[i]<em>i的前缀和是不断变化的，可以用两个树状数组来维护。</em></p><br><br><p>线段树实现区间更新区间查询：<br><br>需要引入一个add延迟变量，也就是每一次更新的时候我们只要将延迟变量作用到对应的区间而不要将增量作用到区间每一个元素，只有在查询的时候我们再将延迟变量向下作用产生；</p><br><br><p> </p><br><br><p> <img alt class="has" height="351" src="https://img-blog.csdn.net/20180725114104723?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2tlX3lpXw==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" width="760"><br><img alt class="has" height="354" src="https://img-blog.csdn.net/2018072511414875?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2tlX3lpXw==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" width="767"><br><img alt class="has" height="346" src="https://img-blog.csdn.net/20180725114208656?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2tlX3lpXw==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" width="391"></p><br><br><p> 题目描述：</p><br><br><p>A Simple Problem with Integers</p><br><br><table align="center"><tbody><tr><td><strong>Time Limit:</strong> 5000MS</td><br>            <td> </td><br>            <td><strong>Memory Limit:</strong> 131072K</td><br>        </tr><tr><td><strong>Total Submissions:</strong> 134669</td><br>            <td> </td><br>            <td><strong>Accepted:</strong> 41771</td><br>        </tr><tr><td colspan="3"><strong>Case Time Limit:</strong> 2000MS</td><br>        </tr></tbody></table><p>Description</p><br><br><p>You have <em>N</em> integers, <em>A</em>1, <em>A</em>2, … , <em>AN</em>. You need to deal with two kinds of operations. One type of operation is to add some given number to each number in a given interval. The other is to ask for the sum of numbers in a given interval.</p><br><br><p>Input</p><br><br><p>The first line contains two numbers <em>N</em> and <em>Q</em>. 1 ≤ <em>N</em>,<em>Q</em> ≤ 100000.<br><br>The second line contains <em>N</em> numbers, the initial values of <em>A</em>1, <em>A</em>2, … , <em>AN</em>. -1000000000 ≤ <em>Ai</em> ≤ 1000000000.<br><br>Each of the next <em>Q</em> lines represents an operation.<br><br>“C <em>a</em> <em>b</em> <em>c</em>“ means adding <em>c</em> to each of <em>Aa</em>, <em>Aa</em>+1, … , <em>Ab</em>. -10000 ≤ <em>c</em> ≤ 10000.<br><br>“Q <em>a</em> <em>b</em>“ means querying the sum of <em>Aa</em>, <em>Aa</em>+1, … , <em>Ab</em>.</p><br><br><p>Output</p><br><br><p>You need to answer all <em>Q</em> commands in order. One answer in a line.</p><br><br><p>Sample Input</p><br><br><pre class="has"><br><code class="language-html">10 5<br>1 2 3 4 5 6 7 8 9 10<br>Q 4 4<br>Q 1 10<br>Q 2 4<br>C 3 6 3<br>Q 2 4<br></code></pre><br><br><p>Sample Output</p><br><br><pre class="has"><br><code class="language-html">4<br>55<br>9<br>15</code></pre><br><br><p> 题目大意：输入一点序列，输入几组测试数据，测试数据有更新和查询，更新Q i，j，表示查询[i,j]区间和，C i j a,表示更新区间[i,j]每个元素加a；</p><br><br><p>树状数组实现代码：</p><br><br><pre class="has"><br><code class="language-cpp">#include&lt;iostream&gt;<br>#include&lt;cstdio&gt;<br>#include&lt;cstring&gt;<br>using namespace std;<br>typedef long long ll;<br><br>const int MAXN=1e5+10;<br><br>ll org[MAXN],a[MAXN],ai[MAXN];//org表示原数据，a表示增量，ai表示a[i]i<br><br>int lowbit(int x){return x&amp;(-x);}<br><br>ll add(ll <em>d,int n,ll v){<br>    while(n&lt;MAXN){<br>        d[n]+=v;<br>        n+=lowbit(n);<br>    }<br>}<br><br>ll sum(ll </em>d,int n){<br>    ll s=0;<br>    while(n){<br>        s+=d[n];<br>        n-=lowbit(n);<br>    }<br>    return s;<br>}<br><br>int main(){<br>    ios::sync_with_stdio(false);<br>    int i,N,Q,l,r,v;<br>    cin&gt;&gt;N&gt;&gt;Q;<br>        memset(a,0,sizeof(a));<br>        memset(ai,0,sizeof(ai));<br>        org[0]=0;<br>        for(i=1;i&lt;=N;i++){<br>            cin&gt;&gt;org[i];<br>            org[i]+=org[i-1];<br>        }<br>        char op[2];<br>        while(Q–){<br>            cin&gt;&gt;op;<br>            if(op[0]==’Q’){<br>                cin&gt;&gt;l&gt;&gt;r;<br>                ll sumr=org[r]+(r+1)<em>sum(a,r)-sum(ai,r);<br>                ll suml=org[l-1]+(l)</em>sum(a,l-1)-sum(ai,l-1);<br>                printf(“%lld\n”,sumr-suml);<br>            }<br>            else{<br>                cin&gt;&gt;l&gt;&gt;r&gt;&gt;v;<br>                add(a,l,(ll)v);<br>                add(a,r+1,(ll)-v);<br>                add(ai,l,(ll)l<em>v);<br>                add(ai,r+1,(ll)(r+1)</em>(-v));<br>            }<br>        }<br><br>    return 0;<br>}</code></pre><br><br><p>线段树实现： </p><br><br><pre class="has"><br><code class="language-cpp">#include&lt;iostream&gt;<br>#include&lt;cstdio&gt;<br>#define N1 200001<br>#define ll long long<br>using namespace std;<br>struct node{<br>    ll left,right,value,lazy;<br>}tree[4<em>N1];//线段树<br><br>int n,q;<br>ll a[N1];<br><br>void Sum(int i){//求子节点和<br>    tree[i].value=tree[i&lt;&lt;1].value+tree[i&lt;&lt;1|1].value;<br>    return;<br>}<br>void BuildTree(int i,int L,int R){//建立一颗[L,R]的树<br>    tree[i].left=L;<br>    tree[i].right=R;<br>    tree[i].lazy=0;<br>    if(L==R){<br>        tree[i].value=a[L];<br>        return ;<br>    }<br>    BuildTree(i&lt;&lt;1,L,(L+R)&gt;&gt;1);<br>    BuildTree(i&lt;&lt;1|1,((L+R)&gt;&gt;1)+1,R);<br>    Sum(i);<br>    return ;<br>}<br><br>void PushDown(int i){//判断延迟父节点的延迟变量，作用到子节点<br>    if(tree[i].lazy){<br>        tree[i&lt;&lt;1].value+=tree[i].lazy</em>(tree[i&lt;&lt;1].right-tree[i&lt;&lt;1].left+1);<br>        tree[i&lt;&lt;1|1].value+=tree[i].lazy<em>(tree[i&lt;&lt;1|1].right-tree[i&lt;&lt;1|1].left+1);//更新左右子节点的value<br><br>        tree[i&lt;&lt;1].lazy+=tree[i].lazy;<br>        tree[i&lt;&lt;1|1].lazy+=tree[i].lazy;//更新左右子节点的lazy<br>        tree[i].lazy=0;//将lazy传给子节点后字节归零<br>    }<br>    return ;<br>}<br><br>void Update(int L,int R,ll s,int i){//更新[L,R]区间加s<br>    if(L&lt;=tree[i].left&amp;&amp;R&gt;=tree[i].right){<br>        tree[i].value+=s</em>(tree[i].right-tree[i].left+1);//如果区间更新包括i节点的区间，则更新value<br>        tree[i].lazy+=s;//将lazy加上更新量<br>        return ;<br>    }<br>    PushDown(i);//否则，将i的延迟变化量作用到左右子节点上<br>    if(L&lt;=tree[i&lt;&lt;1].right) Update(L,R,s,i&lt;&lt;1);<br>    if(R&gt;=tree[i&lt;&lt;1|1].left) Update(L,R,s,i&lt;&lt;1|1);<br>    Sum(i);<br>    return;<br>}<br><br>ll Query(int L,int R,int i){//查询[L,R]区间，从i开始查询<br>    if(L&lt;=tree[i].left&amp;&amp;R&gt;=tree[i].right) return tree[i].value;<br>        PushDown(i);<br>        ll t=0;<br>        if(L&lt;=tree[i&lt;&lt;1].right) t+=Query(L,R,i&lt;&lt;1);<br>        if(R&gt;=tree[i&lt;&lt;1|1].left) t+=Query(L,R,i&lt;&lt;1|1);<br>        return t;<br>}<br><br>int main(){<br>    int Q,N;<br>    ios::sync_with_stdio(false);<br>    cin&gt;&gt;Q&gt;&gt;N;<br>    for(int i=1;i&lt;=Q;i++)cin&gt;&gt;a[i];<br>    BuildTree(1,1,Q);<br>    while(N–){<br>        char op;<br>        int l,r;<br>        ll v;<br>        cin&gt;&gt;op;<br>        if(op==’Q’){<br>            cin&gt;&gt;l&gt;&gt;r;<br>            cout&lt;&lt;Query(l,r,1)&lt;&lt;endl;<br>        }<br>        else{<br>            cin&gt;&gt;l&gt;&gt;r&gt;&gt;v;<br>            Update(l,r,v,1);<br>        }<br>    }<br>    printf(“\n”);<br>    return 0;<br>}</code></pre><br><br><p> </p>          </div>

          
        
      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
  </section>

  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/page/6/"><i class="fa fa-angle-left" aria-label="上一页"></i></a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/6/">6</a><span class="page-number current">7</span><a class="page-number" href="/page/8/">8</a><span class="space">&hellip;</span><a class="page-number" href="/page/11/">11</a><a class="extend next" rel="next" href="/page/8/"><i class="fa fa-angle-right" aria-label="下一页"></i></a>
  </nav>



          </div>
          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      

      

      <div class="site-overview-wrap sidebar-panel sidebar-panel-active">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <img class="site-author-image" itemprop="image" src="/images/ke_yi_head.jpg" alt="ke_yi_">
            
              <p class="site-author-name" itemprop="name">ke_yi_</p>
              <div class="site-description motion-element" itemprop="description"></div>
          </div>

          
            <nav class="site-state motion-element">
              
                <div class="site-state-item site-state-posts">
                
                  <a href="/archives/">
                
                    <span class="site-state-item-count">104</span>
                    <span class="site-state-item-name">日志</span>
                  </a>
                </div>
              

              

              
            </nav>
          

          

          

          
            <div class="links-of-author motion-element">
              
                <span class="links-of-author-item">
                  
                  
                  
                    
                  
                  <a href="https://github.com/zyipeng" title="GitHub &rarr; https://github.com/zyipeng" rel="noopener" target="_blank"><i class="fa fa-fw fa-github"></i></a>
                </span>
              
                <span class="links-of-author-item">
                  
                  
                  
                    
                  
                  <a href="/ke_yi_zhou@163.com" title="E-Mail &rarr; ke_yi_zhou@163.com"><i class="fa fa-fw fa-envelope"></i></a>
                </span>
              
                <span class="links-of-author-item">
                  
                  
                  
                    
                  
                  <a href="https://blog.csdn.net/ke_yi_" title="Weibo &rarr; https://blog.csdn.net/ke_yi_" rel="noopener" target="_blank"><i class="fa fa-fw fa-weibo"></i></a>
                </span>
              
            </div>
          

          

          
          

          
            
          
          

        </div>
      </div>

      

      
        <div class="back-to-top">
          <i class="fa fa-arrow-up"></i>
          
            <span id="scrollpercent"><span>0</span>%</span>
          
        </div>
      

    </div>
  </aside>
  


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2019</span>
  <span class="with-love" id="animate">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">ke_yi_</span>

  

  
</div>


  <div class="powered-by">由 <a href="https://hexo.io" class="theme-link" rel="noopener" target="_blank">Hexo</a> 强力驱动 v3.8.0</div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">主题 – <a href="https://theme-next.org" class="theme-link" rel="noopener" target="_blank">NexT.Pisces</a> v7.1.1</div>




        








        
      </div>
    </footer>

    

    

    

    
  </div>

  

<script>
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>


























  
  <script src="/lib/jquery/index.js?v=2.1.3"></script>

  
  <script src="/lib/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>


  


  <script src="/js/utils.js?v=7.1.1"></script>

  <script src="/js/motion.js?v=7.1.1"></script>



  
  


  <script src="/js/affix.js?v=7.1.1"></script>

  <script src="/js/schemes/pisces.js?v=7.1.1"></script>



  

  


  <script src="/js/next-boot.js?v=7.1.1"></script>


  

  

  

  



  
  <script>
    // Popup Window;
    var isfetched = false;
    var isXml = true;
    // Search DB path;
    var search_path = "search.xml";
    if (search_path.length === 0) {
      search_path = "search.xml";
    } else if (/json$/i.test(search_path)) {
      isXml = false;
    }
    var path = "/" + search_path;
    // monitor main search box;

    var onPopupClose = function (e) {
      $('.popup').hide();
      $('#local-search-input').val('');
      $('.search-result-list').remove();
      $('#no-result').remove();
      $(".local-search-pop-overlay").remove();
      $('body').css('overflow', '');
    }

    function proceedsearch() {
      $("body")
        .append('<div class="search-popup-overlay local-search-pop-overlay"></div>')
        .css('overflow', 'hidden');
      $('.search-popup-overlay').click(onPopupClose);
      $('.popup').toggle();
      var $localSearchInput = $('#local-search-input');
      $localSearchInput.attr("autocapitalize", "none");
      $localSearchInput.attr("autocorrect", "off");
      $localSearchInput.focus();
    }

    // search function;
    var searchFunc = function(path, search_id, content_id) {
      'use strict';

      // start loading animation
      $("body")
        .append('<div class="search-popup-overlay local-search-pop-overlay">' +
          '<div id="search-loading-icon">' +
          '<i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i>' +
          '</div>' +
          '</div>')
        .css('overflow', 'hidden');
      $("#search-loading-icon").css('margin', '20% auto 0 auto').css('text-align', 'center');

      

      $.ajax({
        url: path,
        dataType: isXml ? "xml" : "json",
        async: true,
        success: function(res) {
          // get the contents from search data
          isfetched = true;
          $('.popup').detach().appendTo('.header-inner');
          var datas = isXml ? $("entry", res).map(function() {
            return {
              title: $("title", this).text(),
              content: $("content",this).text(),
              url: $("url" , this).text()
            };
          }).get() : res;
          var input = document.getElementById(search_id);
          var resultContent = document.getElementById(content_id);
          var inputEventFunction = function() {
            var searchText = input.value.trim().toLowerCase();
            var keywords = searchText.split(/[\s\-]+/);
            if (keywords.length > 1) {
              keywords.push(searchText);
            }
            var resultItems = [];
            if (searchText.length > 0) {
              // perform local searching
              datas.forEach(function(data) {
                var isMatch = false;
                var hitCount = 0;
                var searchTextCount = 0;
                var title = data.title.trim();
                var titleInLowerCase = title.toLowerCase();
                var content = data.content.trim().replace(/<[^>]+>/g,"");
                
                var contentInLowerCase = content.toLowerCase();
                var articleUrl = decodeURIComponent(data.url).replace(/\/{2,}/g, '/');
                var indexOfTitle = [];
                var indexOfContent = [];
                // only match articles with not empty titles
                if(title != '') {
                  keywords.forEach(function(keyword) {
                    function getIndexByWord(word, text, caseSensitive) {
                      var wordLen = word.length;
                      if (wordLen === 0) {
                        return [];
                      }
                      var startPosition = 0, position = [], index = [];
                      if (!caseSensitive) {
                        text = text.toLowerCase();
                        word = word.toLowerCase();
                      }
                      while ((position = text.indexOf(word, startPosition)) > -1) {
                        index.push({position: position, word: word});
                        startPosition = position + wordLen;
                      }
                      return index;
                    }

                    indexOfTitle = indexOfTitle.concat(getIndexByWord(keyword, titleInLowerCase, false));
                    indexOfContent = indexOfContent.concat(getIndexByWord(keyword, contentInLowerCase, false));
                  });
                  if (indexOfTitle.length > 0 || indexOfContent.length > 0) {
                    isMatch = true;
                    hitCount = indexOfTitle.length + indexOfContent.length;
                  }
                }

                // show search results

                if (isMatch) {
                  // sort index by position of keyword

                  [indexOfTitle, indexOfContent].forEach(function (index) {
                    index.sort(function (itemLeft, itemRight) {
                      if (itemRight.position !== itemLeft.position) {
                        return itemRight.position - itemLeft.position;
                      } else {
                        return itemLeft.word.length - itemRight.word.length;
                      }
                    });
                  });

                  // merge hits into slices

                  function mergeIntoSlice(text, start, end, index) {
                    var item = index[index.length - 1];
                    var position = item.position;
                    var word = item.word;
                    var hits = [];
                    var searchTextCountInSlice = 0;
                    while (position + word.length <= end && index.length != 0) {
                      if (word === searchText) {
                        searchTextCountInSlice++;
                      }
                      hits.push({position: position, length: word.length});
                      var wordEnd = position + word.length;

                      // move to next position of hit

                      index.pop();
                      while (index.length != 0) {
                        item = index[index.length - 1];
                        position = item.position;
                        word = item.word;
                        if (wordEnd > position) {
                          index.pop();
                        } else {
                          break;
                        }
                      }
                    }
                    searchTextCount += searchTextCountInSlice;
                    return {
                      hits: hits,
                      start: start,
                      end: end,
                      searchTextCount: searchTextCountInSlice
                    };
                  }

                  var slicesOfTitle = [];
                  if (indexOfTitle.length != 0) {
                    slicesOfTitle.push(mergeIntoSlice(title, 0, title.length, indexOfTitle));
                  }

                  var slicesOfContent = [];
                  while (indexOfContent.length != 0) {
                    var item = indexOfContent[indexOfContent.length - 1];
                    var position = item.position;
                    var word = item.word;
                    // cut out 100 characters
                    var start = position - 20;
                    var end = position + 80;
                    if(start < 0){
                      start = 0;
                    }
                    if (end < position + word.length) {
                      end = position + word.length;
                    }
                    if(end > content.length){
                      end = content.length;
                    }
                    slicesOfContent.push(mergeIntoSlice(content, start, end, indexOfContent));
                  }

                  // sort slices in content by search text's count and hits' count

                  slicesOfContent.sort(function (sliceLeft, sliceRight) {
                    if (sliceLeft.searchTextCount !== sliceRight.searchTextCount) {
                      return sliceRight.searchTextCount - sliceLeft.searchTextCount;
                    } else if (sliceLeft.hits.length !== sliceRight.hits.length) {
                      return sliceRight.hits.length - sliceLeft.hits.length;
                    } else {
                      return sliceLeft.start - sliceRight.start;
                    }
                  });

                  // select top N slices in content

                  var upperBound = parseInt('1');
                  if (upperBound >= 0) {
                    slicesOfContent = slicesOfContent.slice(0, upperBound);
                  }

                  // highlight title and content

                  function highlightKeyword(text, slice) {
                    var result = '';
                    var prevEnd = slice.start;
                    slice.hits.forEach(function (hit) {
                      result += text.substring(prevEnd, hit.position);
                      var end = hit.position + hit.length;
                      result += '<b class="search-keyword">' + text.substring(hit.position, end) + '</b>';
                      prevEnd = end;
                    });
                    result += text.substring(prevEnd, slice.end);
                    return result;
                  }

                  var resultItem = '';

                  if (slicesOfTitle.length != 0) {
                    resultItem += "<li><a href='" + articleUrl + "' class='search-result-title'>" + highlightKeyword(title, slicesOfTitle[0]) + "</a>";
                  } else {
                    resultItem += "<li><a href='" + articleUrl + "' class='search-result-title'>" + title + "</a>";
                  }

                  slicesOfContent.forEach(function (slice) {
                    resultItem += "<a href='" + articleUrl + "'>" +
                      "<p class=\"search-result\">" + highlightKeyword(content, slice) +
                      "...</p>" + "</a>";
                  });

                  resultItem += "</li>";
                  resultItems.push({
                    item: resultItem,
                    searchTextCount: searchTextCount,
                    hitCount: hitCount,
                    id: resultItems.length
                  });
                }
              })
            };
            if (keywords.length === 1 && keywords[0] === "") {
              resultContent.innerHTML = '<div id="no-result"><i class="fa fa-search fa-5x"></i></div>'
            } else if (resultItems.length === 0) {
              resultContent.innerHTML = '<div id="no-result"><i class="fa fa-frown-o fa-5x"></i></div>'
            } else {
              resultItems.sort(function (resultLeft, resultRight) {
                if (resultLeft.searchTextCount !== resultRight.searchTextCount) {
                  return resultRight.searchTextCount - resultLeft.searchTextCount;
                } else if (resultLeft.hitCount !== resultRight.hitCount) {
                  return resultRight.hitCount - resultLeft.hitCount;
                } else {
                  return resultRight.id - resultLeft.id;
                }
              });
              var searchResultList = '<ul class=\"search-result-list\">';
              resultItems.forEach(function (result) {
                searchResultList += result.item;
              })
              searchResultList += "</ul>";
              resultContent.innerHTML = searchResultList;
            }
          }

          if ('auto' === 'auto') {
            input.addEventListener('input', inputEventFunction);
          } else {
            $('.search-icon').click(inputEventFunction);
            input.addEventListener('keypress', function (event) {
              if (event.keyCode === 13) {
                inputEventFunction();
              }
            });
          }

          // remove loading animation
          $(".local-search-pop-overlay").remove();
          $('body').css('overflow', '');

          proceedsearch();
        }
      });
    }

    // handle and trigger popup window;
    $('.popup-trigger').click(function(e) {
      e.stopPropagation();
      if (isfetched === false) {
        searchFunc(path, 'local-search-input', 'local-search-result');
      } else {
        proceedsearch();
      };
    });

    $('.popup-btn-close').click(onPopupClose);
    $('.popup').click(function(e){
      e.stopPropagation();
    });
    $(document).on('keyup', function (event) {
      var shouldDismissSearchPopup = event.which === 27 &&
        $('.search-popup').is(':visible');
      if (shouldDismissSearchPopup) {
        onPopupClose();
      }
    });
  </script>





  

  

  

  

  

  

  

  

  

  

  

  

  

  

</body>
</html>
